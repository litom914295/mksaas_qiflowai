# QiFlow AI - AI八字风水对话大师 UI 原型设计规范

**文档版本**: v1.2
**撰写日期**: 2025-01-20
**最后更新**: 2025-01-20
**文档状态**: 设计优化版
**负责人**: UI/UX 设计团队负责人

---

## 0. 文档信息

### 0.1 更新记录

| 版本 | 日期       | 修订人     | 修订内容                                                                         | 评审状态 |
| ---- | ---------- | ---------- | -------------------------------------------------------------------------------- | -------- |
| v1.2 | 2025-01-20 | 跨团队协作 | 基于专家建议优化：增强文化设计元素、完善对话界面、优化响应式布局、强化无障碍设计 | 评审中   |
| v1.1 | 2025-01-20 | Codex 协作 | 重构设计体系、补充响应式与可访问性指引                                           | 已完成   |
| v1.0 | 2025-01-19 | 设计团队   | 初版视觉与组件说明                                                               | 已完成   |

### 0.2 审核清单

```
[设计评审意见汇总]
- 首席设计师: [✓] 设计理念清晰，需强化中国传统文化元素表达
- 前端技术负责人: [✓] 组件规范完善，需明确Tailwind Token映射
- 产品负责人: [✓] 用户体验设计合理，需优化转化流程设计
- 品牌与合规: [✓] 品牌调性准确，需补充文化敏感性指导
- 无障碍专家: [✓] WCAG标准覆盖全面，需细化实施方案
```

---

## 1. 设计目标与文化理念

### 1.1 核心设计理念

- **传承与现代融合**：以玄空风水与八字为文化根基，运用现代极简设计语言，创造既尊重传统又符合现代审美的专业风水咨询体验。
- **对话优先**：以AI大师的对话体验为中心组织所有界面元素，突出分析结论与行动建议的可读性和可操作性。
- **多端一致**：确保桌面与移动端的设计语言统一，同时针对不同设备特性提供差异化交互（如移动端手势操作、桌面端悬停状态）。
- **高可执行性**：所有设计产出与开发实现1:1对应，确保设计Token与Tailwind CSS变量完全匹配。

### 1.2 中国传统文化设计原则

- **五行配色理论**：基于金木水火土五行属性构建色彩体系，确保颜色选择符合传统文化内涵
- **八卦空间布局**：借鉴八卦方位概念设计信息架构，创造符合中国人认知习惯的空间感
- **阴阳平衡美学**：在界面布局中体现阴阳平衡，通过轻重对比、虚实结合营造和谐视感
- **书法韵律节奏**：参考中国书法的节奏感设计文字排版，营造文化韵味和阅读节奏

---

## 2. 品牌与视觉体系

### 2.1 品牌基调

| 属性 | 描述                           | 视觉表现                         |
| ---- | ------------------------------ | -------------------------------- |
| 专业 | 借鉴传统命理术语但避免迷信表达 | 朴素配色、适度留白、严谨信息排版 |
| 温度 | 对话语气亲和但不过度拟人化     | 圆角组件、柔和渐变、插画辅助     |
| 智能 | 强调 AI 能力与数据支撑         | 图表、引用标记、数据徽标         |

### 2.2 五行色彩体系（文化增强版）

```css
/* 五行主色系 - 基于传统文化内涵设计 */

/* 木 - 生机与成长，用于积极建议和成长相关内容 */
--color-wood-50: #f0f9f0;
--color-wood-100: #dcf2dc;
--color-wood-400: #4ade80; /* 翠绿 */
--color-wood-500: #22c55e; /* 主木色 */
--color-wood-700: #15803d;

/* 火 - 热情与活力，用于重要提醒和行动建议 */
--color-fire-50: #fef2f2;
--color-fire-100: #fee2e2;
--color-fire-400: #f87171; /* 朱红 */
--color-fire-500: #ef4444; /* 主火色 */
--color-fire-700: #b91c1c;

/* 土 - 稳重与包容，用于背景和稳定性内容 */
--color-earth-50: #fefce8;
--color-earth-100: #fef3c7;
--color-earth-400: #facc15; /* 金黄 */
--color-earth-500: #eab308; /* 主土色 */
--color-earth-700: #a16207;

/* 金 - 珍贵与精确，用于高端功能和精确数据 */
--color-metal-50: #fafaf9;
--color-metal-100: #f5f5f4;
--color-metal-400: #a3a3a3; /* 银灰 */
--color-metal-500: #737373; /* 主金色 */
--color-metal-700: #404040;

/* 水 - 智慧与流动，用于AI对话和知识内容 */
--color-water-50: #eff6ff;
--color-water-100: #dbeafe;
--color-water-400: #60a5fa; /* 湛蓝 */
--color-water-500: #3b82f6; /* 主水色 */
--color-water-700: #1d4ed8;

/* 品牌主色 - 融合水土属性的深邃蓝 */
--color-primary-50: #eef2ff;
--color-primary-100: #e0e7ff;
--color-primary-400: #6366f1;
--color-primary-500: #4f46e5; /* 主色 */
--color-primary-700: #3730a3;

/* 品牌辅色 - 传统中国金色 */
--color-accent-50: #fffbeb;
--color-accent-100: #fef3c7;
--color-accent-400: #fbbf24; /* 金辉 */
--color-accent-500: #f59e0b; /* 主辅色 */
--color-accent-700: #d97706;
```

**色彩应用原则**：

- **对话气泡**：AI使用水色系（智慧、流动），用户使用土色系（稳重、输入）
- **功能按钮**：金色系表示高级功能，木色系表示成长类建议，火色系表示重要操作
- **状态指示**：按五行相生相克关系设计状态间的颜色过渡
- **文化象征**：重要节点使用传统吉祥色彩，如"九五至尊"的金黄色表示最高权限
  --color-primary-100: #e0e7ff;
  --color-primary-400: #6366f1;
  --color-primary-500: #4f46e5; /_ 主色 _/
  --color-primary-700: #3730a3;

/_ 品牌辅色，以金色体现传统文化 _/
--color-accent-100: #fef3c7;
--color-accent-400: #fbbf24;
--color-accent-500: #f59e0b; /_ 强调 _/

/_ 功能色 _/
--color-success-500: #10b981;
--color-warning-500: #f59e0b;
--color-danger-500: #ef4444;
--color-info-500: #0ea5e9;

/_ 中性色 _/
--color-neutral-50: #f9fafb;
--color-neutral-100: #f3f4f6;
--color-neutral-300: #d1d5db;
--color-neutral-500: #6b7280;
--color-neutral-700: #374151;
--color-neutral-900: #111827;

````

**运用规则**：
- 背景使用 Neutral 50/100，正文使用 Neutral 700，标题使用 Neutral 900。
- 对话气泡：用户侧使用 Neutral 100 + Neutral 700 字体；AI 侧使用 Primary 50 + Primary 500。
- 强调元素（按钮、关键数字）使用 Accent 400/500，避免与警告色混淆。

### 2.3 中国传统文化字体与排版系统

#### 字体层级（文化韵味版）
| 层级 | 字重 | 大小 | 行高 | 用途 | 文化寓意 |
|------|------|------|------|------|----------|
| **天字级** | Bold | 40px | 48px | 重要标题、品牌名称 | 象征"天"的高度和权威 |
| **地字级** | SemiBold | 32px | 40px | 页面主标题、分析摘要 | 象征"地"的稳重和包容 |
| **人字级** | SemiBold | 24px | 32px | 模块标题、对话摘要 | 象征"人"的智慧和活力 |
| **物字级** | Medium | 20px | 28px | 小节标题、卡片标题 | 象征万物之理的条理性 |
| **理字级** | Regular | 16px | 24px | 正文内容、对话文本 | 象征道理的通达性 |
| **微字级** | Regular | 14px | 21px | 辅助信息、标签提示 | 象征细节的精微性 |
| **数字专用** | SemiBold | 14px | 18px | 数据、年份、度数 | 特殊的数字字体加强可读性 |

#### 中文排版优化
```css
/* 中文优先字体栈 */
font-family: "思源黑体", "Noto Sans SC", "PingFang SC", "Microsoft YaHei", "Hiragino Sans GB", sans-serif;

/* 中文字符间距优化 */
letter-spacing: 0.05em; /* 中文字符轻微间距增加可读性 */

/* 中英文混排优化 */
.mixed-text {
  /* 中英文之间自动添加间距 */
  word-spacing: 0.1em;
}

/* 古典引用样式 */
.classical-quote {
  font-family: "仿宋", "FangSong", serif;
  font-size: 0.9em;
  line-height: 1.8;
  color: var(--color-earth-700);
  border-left: 3px solid var(--color-accent-400);
  padding-left: 1em;
  font-style: italic;
}
````

---

## 3. 布局与响应式

### 3.1 布局原则

- **12 栅格系统**：桌面端最大内容宽度 1200px，左右安全边距 64px；移动端使用 4 栅格。
- **对话布局**：左侧（≥960px 屏幕）显示上下文信息（用户档案、快捷操作），右侧为对话区；移动端采用单列布局。
- **信息区块**：每屏推荐不超过 3 个主要模块，使用卡片式分组，保持视觉节奏。

### 3.2 Breakpoint 与适配策略

| Breakpoint | 范围       | 布局策略                                   |
| ---------- | ---------- | ------------------------------------------ |
| Mobile     | ≤640px     | 单列，底部固定输入条，操作按钮收纳至抽屉   |
| Tablet     | 641-1024px | 对话区占比 70%，侧栏折叠为抽屉             |
| Desktop    | ≥1025px    | 对话区与信息侧栏并排展示，支持并行任务卡片 |

---

## 4. 组件与交互模式

### 4.1 对话组件

| 元素     | 要求               | 实现要点                                             |
| -------- | ------------------ | ---------------------------------------------------- |
| 对话气泡 | 区分用户与 AI 视觉 | AI 气泡带引用标记、来源链接；支持 Markdown、引用折叠 |
| 摘要条   | 每轮对话顶部       | 显示结论、建议数量、信心等级                         |
| 行动清单 | 卡片形式展示       | 分短期/中期/长期，含 checkbox、导出按钮              |
| 引用脚注 | 与建议关联         | 显示算法版本、数据时间、模型 ID                      |

### 4.2 数据与图表

- **飞星图**：使用 React Konva，提供缩略图 + 全屏查看；高亮当前宫位。
- **命盘表格**：两列卡片式排布，支持展开查看十神关系。
- **指标卡片**：包含标题、数值、趋势箭头、时间戳。

### 4.3 表单与输入

- 出生信息表单：分步式（日期 → 时间 → 地点），提供说明与“不详”选项。
- 房屋信息输入：支持上传图片/平面图，提供指引文本与示例。
- 对话输入框：支持命令面板（`/` 开启），快捷插入“查看运势”“生成行动清单”等。

### 4.4 状态与反馈

| 状态   | 表现                                            |
| ------ | ----------------------------------------------- |
| 加载   | 骨架屏 + 动态渐变；对话响应>3s 显示“生成中”提示 |
| 成功   | Banner 提示，可撤销操作                         |
| 警告   | 黄底卡片；用于数据缺失或推理不确定              |
| 错误   | 红底卡片；提供重试与联系客服入口                |
| 空状态 | 使用插画+说明文本+引导操作                      |

---

## 5. 多语言与文案

- 默认语言简体中文，所有文案通过 `src/locales` 管理，不直接写死在原型中。
- 文案遵循“结论先行 + 理由 + 建议 + 来源”结构，避免过度绝对化表述。
- 对话语气：专业、温和、尊重隐私，避免宣称“保证”“命中注定”等词。
- 英文/东南亚语言需验证排版与文本长度；在原型中标注可变空间。

---

## 6. 可访问性指引

- 颜色对比满足 WCAG AA：正文对比度 ≥ 4.5:1，标题 ≥ 3:1。
- 交互控件需提供焦点态与键盘导航，原型需标出焦点顺序。
- 图表提供文本替代描述；对话引用提供屏幕阅读器友好结构（ARIA 标签）。
- 批量导出的报告需支持屏幕阅读器阅读（结构化标题、表格）。

---

## 7. 原型交付标准

| 交付物           | 要求                                         |
| ---------------- | -------------------------------------------- |
| 信息架构图       | 列出页面结构、串联关键旅程                   |
| 用户流程图       | 游客、会员、高端用户三条路径                 |
| 中高保真原型     | 桌面+移动端，含关键动效描述                  |
| 组件库           | Figma 中定义 Variant、状态、互动说明         |
| 标注文档         | 使用设计工具插件自动生成，包含尺寸/间距/颜色 |
| Style Token 列表 | 对应 Tailwind 自定义变量，便于前端引用       |

交付前需完成自检：

- [ ] 样式 Token 与 `tailwind.config.ts` 对齐。
- [ ] 组件命名符合 `PascalCase`，便于代码映射。
- [ ] 所有文案包含 i18n Key。
- [ ] 动效描述附带时长、缓动函数、触发条件。

---

## 8. 协作流程

- 设计评审节奏：需求冻结后 3 天内完成初稿评审，Week 4 完成交接。
- 与前端同步：每周至少一次设计-开发对齐（回顾组件状态、Token 更新）。
- 设计版本管理：Figma 使用分支功能；主干仅保留已评审通过内容。
- 反馈处理：建立设计 Issue 模板（优先级、影响范围、建议修复时间）。

---

**文档结束**
