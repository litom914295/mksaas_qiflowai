========================================
Windows Defender 排除项 - 使用指南
========================================

问题：已修复编码乱码和闪退问题

现在有3个文件可以使用（推荐按顺序尝试）：

------------------------------------------------------------------------
方法 1: 使用简化版 CMD 文件（最推荐，最简单）
------------------------------------------------------------------------

1. 找到文件：add-defender-exclusion-simple.cmd

2. 右键点击该文件

3. 选择 "以管理员身份运行"

4. 在弹出的用户账户控制窗口中点击 "是"

5. 看到以下内容表示成功：
   [OK] Exclusion added successfully!
   [OK] Verified! Exclusion is active

6. 按任意键关闭窗口

------------------------------------------------------------------------
方法 2: 使用改进的 BAT 文件
------------------------------------------------------------------------

1. 找到文件：add-defender-exclusion.bat

2. 双击该文件（会自动请求管理员权限）

3. 在弹出的用户账户控制窗口中点击 "是"

4. 等待执行完成，看到 SUCCESS! 即表示成功

5. 按任意键退出

------------------------------------------------------------------------
方法 3: 使用改进的 PowerShell 脚本
------------------------------------------------------------------------

1. 找到文件：add-defender-exclusion.ps1

2. 右键点击该文件

3. 选择 "以管理员身份运行" 或 "使用 PowerShell 运行"

4. 如果提示执行策略，选择 "是" 或输入 Y

5. 看到 SUCCESS! 表示完成

6. 按任意键退出

------------------------------------------------------------------------
方法 4: 手动 PowerShell 命令（最快）
------------------------------------------------------------------------

1. 按 Win + X 键

2. 选择 "Windows PowerShell (管理员)" 或 "终端 (管理员)"

3. 复制并粘贴以下命令：

   Add-MpPreference -ExclusionPath "D:\test\mksaas_qiflowai"

4. 按 Enter 键执行

5. 如果没有报错，说明成功！

------------------------------------------------------------------------
验证是否成功
------------------------------------------------------------------------

运行以下 PowerShell 命令查看所有排除项：

   Get-MpPreference | Select-Object -ExpandProperty ExclusionPath

应该能看到：
   D:\test\mksaas_qiflowai

------------------------------------------------------------------------
预期效果
------------------------------------------------------------------------

添加排除项后，你将获得：

✓ npm install 速度提升 20-30%
✓ 开发服务器启动速度提升 20-30%
✓ 文件热重载更流畅
✓ 整体开发体验显著改善

------------------------------------------------------------------------
问题排查
------------------------------------------------------------------------

Q: 显示 "权限不足" 错误
A: 确保以管理员身份运行，右键选择 "以管理员身份运行"

Q: 显示编码乱码
A: 使用 add-defender-exclusion-simple.cmd（全英文，无乱码）

Q: 窗口闪退看不到结果
A: 现在已修复，所有脚本都会等待按键后才关闭

Q: 担心安全问题
A: 只要你只从 npm 官方源安装包，并定期运行 npm audit，影响很小

------------------------------------------------------------------------
删除排除项（如果需要）
------------------------------------------------------------------------

使用管理员 PowerShell 运行：

   Remove-MpPreference -ExclusionPath "D:\test\mksaas_qiflowai"

------------------------------------------------------------------------
完成后的下一步
------------------------------------------------------------------------

1. 排除项添加成功后，运行：npm run dev

2. 享受飞快的开发体验！

3. 预期启动时间：15-30秒（从原来的 157秒）

------------------------------------------------------------------------

如有问题，查看详细文档：
- WINDOWS_DEFENDER_SETUP.md（图文详细教程）
- QUICK_START_OPTIMIZATION.md（快速开始指南）
- PERFORMANCE_OPTIMIZATION.md（完整优化文档）

========================================
