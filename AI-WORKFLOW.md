# ğŸ› ï¸ Fullâ€‘Auto æ‰§è¡Œå¢å¼ºè¡¥ä¸ï¼ˆ2025â€‘10â€‘14ï¼‰

> ç›®çš„ï¼šåœ¨ **Warp Code / Agents** æ‰§è¡Œé•¿é“¾å¼€å‘æ—¶**ä¸å†ä¸­é€”æ€»ç»“æˆ–è¯¢é—®æ˜¯å¦ç»§ç»­**ï¼Œ
> é‡‡ç”¨â€œè¿ç»­æ‰§è¡Œç›´åˆ°å®Œæˆâ€çš„ç­–ç•¥ï¼›ä»…åœ¨**è‡´å‘½é”™è¯¯**ã€**éœ€è¦å¤–éƒ¨è¾“å…¥**æˆ–**èµ„æºé˜ˆå€¼**è§¦å‘æ—¶æš‚åœã€‚

## âœ… å…¨å±€è¡Œä¸ºå˜æ›´ï¼ˆå¼ºåˆ¶ï¼‰
- å…³é—­é˜¶æ®µæ€§æ€»ç»“ä¸ç¡®è®¤ï¼ˆno midâ€‘run summary / confirmï¼‰
- å¼€å¯è¿ç»­æ‰§è¡Œç›´åˆ°å®Œæˆï¼ˆcontinueâ€‘untilâ€‘completeï¼‰
- å¤±è´¥è‡ªåŠ¨é‡è¯• â‰¤ 1 æ¬¡ï¼Œè‹¥ä»å¤±è´¥åˆ™è¾“å‡ºé”™è¯¯å¹¶åœæœºï¼ˆé¿å…é™é»˜å¤±è´¥ï¼‰
- å…è®¸é•¿é“¾ä»»åŠ¡åˆå¹¶é˜¶æ®µï¼ˆautoâ€‘chain merge checkpointsï¼‰
- ä»…åœ¨**éœ€è¦æ–°å‚æ•°**æˆ–**å†™å…¥å†²çª**æ—¶æš‚åœæç¤º

## ğŸ”§ Warp æ‰§è¡Œé…ç½®ï¼ˆä¿å­˜ä¸º `.warp/config.yaml`ï¼‰
```yaml
# å¼ºåˆ¶å…¨è‡ªåŠ¨æ‰§è¡Œé…ç½®
execution:
  mode: full-auto
  confirm_steps: false
  summarize_intervals: none
  continue_on_error: true
  safety_pause: off
  auto_continue: true
  max_consecutive_steps: 9999
  retry:
    enabled: true
    max_attempts: 1
    backoff_seconds: 2
agent_settings:
  personality:
    summarization_behavior: "disabled"     # ç¦ç”¨å†…ç½®æ€»ç»“ Hook
    confirm_behavior: "none"               # ç¦ç”¨â€œæ˜¯å¦ç»§ç»­â€
    interruption_policy: "never"           # éå¿…è¦ä¸æ‰“æ–­
  hard_rules:
    - "é™¤éå‡ºç°è‡´å‘½é”™è¯¯æˆ–éœ€è¦é¢å¤–å¿…å¡«å‚æ•°ï¼Œä¸è¦åœ¨ä¸­é€”æš‚åœæˆ–å‘èµ·æ€»ç»“ã€‚"
    - "å°†æ‰€æœ‰å­ä»»åŠ¡ä¸²è”æ‰§è¡Œï¼›é˜¶æ®µæ€»ç»“ä»…åœ¨å…¨éƒ¨å®Œæˆåè¾“å‡ºä¸€æ¬¡ã€‚"
    - "æ£€æµ‹åˆ°æ–‡ä»¶å†™å…¥å†²çªæ—¶ï¼Œæç¤ºä¸€æ¬¡å¹¶ç­‰å¾…ç¡®è®¤ï¼ˆä¿æŠ¤æ€§æš‚åœï¼‰ã€‚"
```

## ğŸ§­ å·¥ä½œæµå…¥å£ï¼ˆCLI æ¨èï¼‰
```bash
# å¼ºåˆ¶å…¨è‡ªåŠ¨è¿è¡Œï¼ˆé¿å…é»˜è®¤åŠè‡ªåŠ¨ï¼‰
warp run --auto --force --no-summary --no-confirm "QiFlow: Full-Auto"
# æˆ–ï¼šåœ¨ package.json scripts é‡Œå°è£…
# "scripts": { "qiflow:auto": "warp run --auto --force --no-summary --no-confirm 'QiFlow: Full-Auto'" }
```

## ğŸ§© AGENTS.md è¿½åŠ ï¼ˆå¼ºçº¦æŸ System Promptï¼‰
åœ¨ä½ é¡¹ç›®æ ¹éƒ¨çš„ `AGENTS.md` å¤´éƒ¨è¿½åŠ ä»¥ä¸‹ç³»ç»ŸæŒ‡ä»¤ï¼š
```markdown
> System (Fullâ€‘Auto Mode):
> - You are a continuous execution agent.
> - Do not pause for summaries or confirmations midâ€‘run.
> - Execute all subâ€‘tasks until completion, then output a single final report.
> - Pause only on fatal errors, missing required inputs, or writeâ€‘conflict prompts.
```

---

> ä¸‹æ–¹ä¸ºä½ çš„åŸå§‹ã€ŠAIâ€‘WORKFLOW.mdã€‹ï¼Œå·²é»˜è®¤å…¼å®¹ä¸Šè¿° Fullâ€‘Auto è¯­ä¹‰ä¸é…ç½®ï¼›
> è‹¥å­˜åœ¨ä¸æœ¬è¡¥ä¸å†²çªçš„â€œä¸­é€”è¯„å®¡/æ€»ç»“/ç¡®è®¤â€æè¿°ï¼Œä»¥æœ¬è¡¥ä¸ä¸ºå‡†ï¼ˆå®é™…è¿è¡Œå°†è‡ªåŠ¨è·³è¿‡è¿™äº›åœé¡¿ç‚¹ï¼‰ã€‚


# ğŸš€ QiFlow AI å¼€å‘å·¥ä½œæµ

**ç‰ˆæœ¬**: v5.0.0 (FULL-AUTO)  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-13  
**æœ€åæ›´æ–°**: 2025-01-14  
**ç›®çš„**: **ç«¯åˆ°ç«¯å…¨è‡ªåŠ¨åŒ–**å¼€å‘æµç¨‹ - ä»éœ€æ±‚åˆ°å¯è¿è¡Œåº”ç”¨  
**é€‚ç”¨èŒƒå›´**: æ–°åŠŸèƒ½å¼€å‘ã€Bug ä¿®å¤ã€æ€§èƒ½ä¼˜åŒ–ã€é‡æ„ã€ç´§æ€¥çƒ­ä¿®å¤  
**æ ¸å¿ƒç‰¹æ€§**: ä¾èµ–ç®¡ç†ã€çµæ´»è°ƒæ•´ã€åé¦ˆå¾ªç¯ã€è‡ªåŠ¨å›æ»šã€ç»†ç²’åº¦ä»»åŠ¡ã€é¢„è§ˆç¯å¢ƒã€çŸ¥è¯†åº“ã€AIç½®ä¿¡åº¦ã€ç»Ÿä¸€CLIã€**å…¨è‡ªåŠ¨ä»£ç ç”Ÿæˆ** ğŸ†•

---

## ğŸ“‹ å·¥ä½œæµæ€»è§ˆ

### å·¥ä½œæµæ‰§è¡Œæ¨¡å¼

```yaml
æ‰§è¡Œæ¨¡å¼:
  1. æ ‡å‡†æ¨¡å¼: å®Œæ•´æµç¨‹ï¼Œé€‚ç”¨äºæ–°åŠŸèƒ½å¼€å‘
  2. å¿«é€Ÿæ¨¡å¼: ç®€åŒ–æµç¨‹ï¼Œé€‚ç”¨äºå°ä¿®å¤
  3. ç´§æ€¥æ¨¡å¼: çƒ­ä¿®å¤æµç¨‹ï¼Œè·³è¿‡éƒ¨åˆ†è¯„å®¡
  4. å¹¶è¡Œæ¨¡å¼: å¤šä»»åŠ¡å¹¶è¡Œæ‰§è¡Œ
  5. è¿­ä»£æ¨¡å¼: æ¸è¿›å¼å¼€å‘
```

### æ ‡å‡†å·¥ä½œæµç¨‹å›¾

```mermaid
graph TD
    A[è‡ªç„¶è¯­è¨€éœ€æ±‚] --> B[éœ€æ±‚åˆ†æ Agent]
    B --> C[ç”Ÿæˆéœ€æ±‚æ–‡æ¡£åˆç¨¿]
    C --> D[éœ€æ±‚æ–‡æ¡£è¯„å®¡]
    D --> E{æ˜¯å¦é€šè¿‡?}
    E -->|ä¸é€šè¿‡| B
    E -->|é€šè¿‡| F[ç¡®å®šéœ€æ±‚æ–‡æ¡£]
    F --> G[æŠ€æœ¯åˆ†æ Agent]
    G --> H[ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆ]
    H --> I[æŠ€æœ¯æ–¹æ¡ˆè¯„å®¡]
    I --> J{æ˜¯å¦é€šè¿‡?}
    J -->|ä¸é€šè¿‡| G
    J -->|é€šè¿‡| K[OpenSpec Proposal]
    K --> L[TaskMaster ä»»åŠ¡åˆ†è§£]
    L --> M[ä»»åŠ¡è¯„å®¡]
    M --> N{æ˜¯å¦åˆç†?}
    N -->|ä¸åˆç†| L
    N -->|åˆç†| O[Agent ååŒæ‰§è¡Œ]
    O --> P[ä»£ç å®ç°]
    P --> Q[ä»£ç å®¡æŸ¥]
    Q --> R[æµ‹è¯•éªŒè¯]
    R --> S[æœ€ç»ˆè¯„å®¡]
    S --> T[Archive & éƒ¨ç½²]
    
    %% åé¦ˆå¾ªç¯
    P -.->|è¿›åº¦åé¦ˆ| FB[åé¦ˆç›‘æ§]
    Q -.->|è´¨é‡åé¦ˆ| FB
    R -.->|æµ‹è¯•åé¦ˆ| FB
    FB -.->|è°ƒæ•´ä¼˜å…ˆçº§| L
    FB -.->|è§¦å‘å›æ»š| RB[å›æ»šç­–ç•¥]
```

### é˜¶æ®µä¾èµ–å…³ç³»çŸ©é˜µ

```yaml
ä¾èµ–å…³ç³»:
  é˜¶æ®µ0-éœ€æ±‚ç†è§£:
    å‰ç½®: æ— 
    å¯å¹¶è¡Œ: æ— 
    è¾“å‡º: éœ€æ±‚åˆæ­¥åˆ†æ
    
  é˜¶æ®µ1-éœ€æ±‚æ–‡æ¡£:
    å‰ç½®: [é˜¶æ®µ0]
    å¯å¹¶è¡Œ: æ— 
    è¾“å‡º: PRDæ–‡æ¡£
    
  é˜¶æ®µ2-æŠ€æœ¯æ–¹æ¡ˆ:
    å‰ç½®: [é˜¶æ®µ1]
    å¯å¹¶è¡Œ: [åˆæ­¥UIè®¾è®¡]
    è¾“å‡º: æŠ€æœ¯è§„èŒƒ
    
  é˜¶æ®µ3-OpenSpec:
    å‰ç½®: [é˜¶æ®µ2]
    å¯å¹¶è¡Œ: [ç¯å¢ƒå‡†å¤‡]
    è¾“å‡º: Proposal
    
  é˜¶æ®µ4-ä»»åŠ¡åˆ†è§£:
    å‰ç½®: [é˜¶æ®µ3]
    å¯å¹¶è¡Œ: [èµ„æºè°ƒé…]
    è¾“å‡º: ä»»åŠ¡æ ‘
    
  é˜¶æ®µ5-Agentæ‰§è¡Œ:
    å‰ç½®: [é˜¶æ®µ4]
    å¯å¹¶è¡Œ: [å‰ç«¯å¼€å‘, åç«¯å¼€å‘, æµ‹è¯•å‡†å¤‡]
    è¾“å‡º: ä»£ç å®ç°
    
  é˜¶æ®µ6-ä»£ç å®¡æŸ¥:
    å‰ç½®: [é˜¶æ®µ5çš„éƒ¨åˆ†å®Œæˆ]
    å¯å¹¶è¡Œ: [æ–‡æ¡£ç¼–å†™]
    è¾“å‡º: å®¡æŸ¥æŠ¥å‘Š
    
  é˜¶æ®µ7-æµ‹è¯•éªŒè¯:
    å‰ç½®: [é˜¶æ®µ6]
    å¯å¹¶è¡Œ: [æ€§èƒ½æµ‹è¯•, å®‰å…¨æµ‹è¯•]
    è¾“å‡º: æµ‹è¯•æŠ¥å‘Š
    
  é˜¶æ®µ8-æœ€ç»ˆè¯„å®¡:
    å‰ç½®: [é˜¶æ®µ7]
    å¯å¹¶è¡Œ: æ— 
    è¾“å‡º: ä¸Šçº¿å†³ç­–
    
  é˜¶æ®µ9-éƒ¨ç½²ä¸Šçº¿:
    å‰ç½®: [é˜¶æ®µ8]
    å¯å¹¶è¡Œ: [ç›‘æ§é…ç½®]
    è¾“å‡º: ç”Ÿäº§ç¯å¢ƒ
```

---

## ğŸ› ï¸ æ ¸å¿ƒå·¥å…·é›†æˆ

### 1. OpenSpec (è§„èŒƒé©±åŠ¨å¼€å‘)
- **ç½‘ç«™**: https://openspec.dev
- **GitHub**: https://github.com/Fission-AI/OpenSpec
- **ä½œç”¨**: å°†éœ€æ±‚è½¬æ¢ä¸ºç»“æ„åŒ–è§„èŒƒï¼Œç¡®ä¿äººç±»å’Œ AI å¯¹è¦æ„å»ºçš„å†…å®¹è¾¾æˆä¸€è‡´

### 2. TaskMaster AI (ä»»åŠ¡ç®¡ç†)
- **ä½ç½®**: `.taskmaster/` ç›®å½•
- **ä½œç”¨**: æ™ºèƒ½ä»»åŠ¡åˆ†è§£ã€ä¾èµ–ç®¡ç†ã€è¿›åº¦è·Ÿè¸ª

### 3. å¤š Agent ç³»ç»Ÿ
- **ä½ç½®**: `.claude/agents/` ç›®å½•
- **åˆ†ç±»**:
  - 01-core-development (æ ¸å¿ƒå¼€å‘)
  - 02-language-specialists (è¯­è¨€ä¸“å®¶)
  - 03-infrastructure (åŸºç¡€è®¾æ–½)
  - 04-quality-security (è´¨é‡å®‰å…¨)
  - 05-data-ai (æ•°æ®ä¸AI)
  - 06-domain-experts (é¢†åŸŸä¸“å®¶)
    - bazi-expert (å…«å­—ä¸“å®¶)
    - fengshui-expert (é£æ°´ä¸“å®¶)
    - metaphysics-consultant (ç„å­¦é¡¾é—®)

### 4. QiFlow CLI (ç»Ÿä¸€å·¥ä½œæµå…¥å£) ğŸ†•
- **å‘½ä»¤**: `qiflow` æˆ– `qf`
- **ä½œç”¨**: ç»Ÿä¸€å‘½ä»¤è¡Œç•Œé¢ï¼Œç®€åŒ–å·¥ä½œæµæ“ä½œ
- **ç‰¹æ€§**: è‡ªç„¶è¯­è¨€æ”¯æŒã€æµç¨‹è‡ªåŠ¨åŒ–ã€æ™ºèƒ½æç¤º

### 5. é¢„è§ˆç¯å¢ƒç³»ç»Ÿ ğŸ†•
- **Vercel Preview**: å‰ç«¯é¢„è§ˆ
- **Kubernetes Namespace**: åç«¯éš”ç¦»ç¯å¢ƒ
- **è‡ªåŠ¨åŒ–**: æ¯ä¸ª PR/Proposal è‡ªåŠ¨åˆ›å»ºé¢„è§ˆç¯å¢ƒ

### 6. çŸ¥è¯†åº“ä¸å‘é‡ç´¢å¼• ğŸ†•
- **å‘é‡æ•°æ®åº“**: Qdrant/Pinecone
- **ä½œç”¨**: çŸ¥è¯†å¤ç”¨ã€ç›¸ä¼¼æ¡ˆä¾‹æ¨èã€é£é™©è¯†åˆ«
- **è‡ªåŠ¨ç´¢å¼•**: PRDã€æŠ€æœ¯æ–¹æ¡ˆã€ä»£ç ç‰‡æ®µã€é¡¹ç›®æ€»ç»“

### 7. AI ç½®ä¿¡åº¦ç³»ç»Ÿ ğŸ†•
- **è¯„åˆ†ç»´åº¦**: å¤æ‚åº¦ã€ç›¸ä¼¼åº¦ã€è¦†ç›–ç‡ã€ä¸€è‡´æ€§ã€é£é™©
- **è‡ªåŠ¨å®¡æ‰¹**: é«˜ç½®ä¿¡åº¦(>95%)è‡ªåŠ¨é€šè¿‡
- **åˆ†çº§è¯„å®¡**: æ ¹æ®ç½®ä¿¡åº¦å†³å®šè¯„å®¡çº§åˆ«

### 8. çµæ´»æ€§é…ç½®

```yaml
flexibility_config:
  # å…è®¸è·³è¿‡çš„é˜¶æ®µï¼ˆä»…åœ¨ç‰¹å®šæ¨¡å¼ä¸‹ï¼‰
  skippable_stages:
    hot_fix: [æŠ€æœ¯è¯„å®¡, ä»»åŠ¡åˆ†è§£]
    minor_update: [éœ€æ±‚è¯„å®¡]
    prototype: [æœ€ç»ˆè¯„å®¡]
  
  # å¯é€‰çš„è¯„å®¡çº§åˆ«
  review_levels:
    full: å®Œæ•´å¤šè½®è¯„å®¡
    standard: æ ‡å‡†è¯„å®¡
    quick: å¿«é€Ÿè¯„å®¡
    skip: è·³è¿‡è¯„å®¡ï¼ˆéœ€æˆæƒï¼‰
  
  # ä»»åŠ¡æ‰§è¡Œç­–ç•¥
  execution_strategy:
    sequential: é¡ºåºæ‰§è¡Œ
    parallel: å¹¶è¡Œæ‰§è¡Œ
    adaptive: è‡ªé€‚åº”æ‰§è¡Œ
```

---

## ğŸ“ OpenSpec æ–œæ å‘½ä»¤

### æ”¯æŒçš„ AI å·¥å…·å’Œå‘½ä»¤

| å·¥å…· | å‘½ä»¤ |
|------|------|
| **Claude Code** | `/openspec:proposal`, `/openspec:apply`, `/openspec:archive` |
| **Cursor** | `/openspec-proposal`, `/openspec-apply`, `/openspec-archive` |
| **Windsurf** | `/openspec-proposal`, `/openspec-apply`, `/openspec-archive` |
| **Warp Code** | é€šè¿‡ AGENTS.md æ–‡ä»¶æ”¯æŒ |

### OpenSpec å·¥ä½œæµå‘½ä»¤

```bash
# åˆå§‹åŒ– OpenSpec
openspec init

# æŸ¥çœ‹æ´»åŠ¨çš„å˜æ›´
openspec list

# äº¤äº’å¼ä»ªè¡¨æ¿
openspec view

# æ˜¾ç¤ºå˜æ›´è¯¦æƒ…
openspec show <change-name>

# éªŒè¯è§„èŒƒæ ¼å¼
openspec validate <change-name>

# å½’æ¡£å®Œæˆçš„å˜æ›´
openspec archive <change-name> --yes
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### é˜¶æ®µ-1ï¼šçŸ¥è¯†åº“æ£€ç´¢ï¼ˆæ–°å¢å‰ç½®æ­¥éª¤ï¼‰ğŸ†•

#### -1.1 è‡ªåŠ¨çŸ¥è¯†æ£€ç´¢
```typescript
// åœ¨æ¥æ”¶éœ€æ±‚å‰ï¼Œå…ˆæ£€ç´¢ç›¸å…³çŸ¥è¯†
const knowledgeRetrieval = async (requirement: string) => {
  // 1. æœç´¢ç›¸ä¼¼éœ€æ±‚
  const similarPRDs = await vectorDB.search(requirement, {
    type: 'PRD',
    limit: 5
  });
  
  // 2. æŸ¥æ‰¾å¯å¤ç”¨æ–¹æ¡ˆ
  const reusableSolutions = await vectorDB.search(requirement, {
    type: 'techSpec',
    limit: 3
  });
  
  // 3. è¯†åˆ«æ½œåœ¨é£é™©
  const risks = await vectorDB.search(requirement, {
    type: 'incident',
    limit: 3
  });
  
  return {
    similar: similarPRDs,
    reusable: reusableSolutions,
    risks,
    confidence: calculateConfidence(similarPRDs)
  };
};
```

#### -1.2 çŸ¥è¯†åº”ç”¨å†³ç­–
```text
AI: å‘ç° 3 ä¸ªç›¸ä¼¼æ¡ˆä¾‹ï¼Œç½®ä¿¡åº¦ 92%

ç›¸ä¼¼æ¡ˆä¾‹ï¼š
1. ã€Œå…«å­—åˆ†æåŠŸèƒ½ã€- ç›¸ä¼¼åº¦ 85%
2. ã€Œç´«å¾®æ–—æ•°åŠŸèƒ½ã€- ç›¸ä¼¼åº¦ 78%
3. ã€Œé£æ°´åˆ†æåŠŸèƒ½ã€- ç›¸ä¼¼åº¦ 72%

å¯å¤ç”¨ç»„ä»¶ï¼š
- æ—¥æœŸé€‰æ‹©å™¨ç»„ä»¶
- ç®—æ³•éªŒè¯æ¡†æ¶
- ç»“æœå±•ç¤ºæ¨¡æ¿

æ½œåœ¨é£é™©ï¼š
- å†œå†è½¬æ¢è¾¹ç•Œé—®é¢˜
- æ€§èƒ½ä¼˜åŒ–éœ€æ±‚

å»ºè®®ï¼šåŸºäºã€Œå…«å­—åˆ†æåŠŸèƒ½ã€æ¨¡æ¿å¿«é€Ÿå¯åŠ¨
```

### é˜¶æ®µ0ï¼šéœ€æ±‚ç†è§£ä¸åˆæ­¥åˆ†æ

#### 0.1 æ¥æ”¶è‡ªç„¶è¯­è¨€éœ€æ±‚
```text
ç”¨æˆ·è¾“å…¥ç¤ºä¾‹ï¼š
"æˆ‘æƒ³æ·»åŠ ä¸€ä¸ªç”Ÿè‚–é…å¯¹åŠŸèƒ½ï¼Œç”¨æˆ·è¾“å…¥ä¸¤ä¸ªäººçš„å‡ºç”Ÿæ—¥æœŸï¼Œ
ç³»ç»Ÿåˆ†æä¸¤äººçš„ç”Ÿè‚–æ˜¯å¦ç›¸é…ï¼Œç»™å‡ºé…å¯¹æŒ‡æ•°å’Œå»ºè®®ã€‚
è¦æ±‚ç•Œé¢ç¾è§‚ï¼Œå“åº”é€Ÿåº¦å¿«ï¼Œæ”¯æŒåˆ†äº«åˆ°ç¤¾äº¤å¹³å°ã€‚"
```

#### 0.2 è°ƒç”¨éœ€æ±‚åˆ†æ Agentï¼ˆå«ç½®ä¿¡åº¦è¯„åˆ†ï¼‰
```text
AI: æˆ‘å°†è°ƒç”¨éœ€æ±‚åˆ†æ Agent æ¥åˆ†ææ‚¨çš„éœ€æ±‚...

æ­£åœ¨è®¡ç®—ç½®ä¿¡åº¦...
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç½®ä¿¡åº¦è¯„åˆ†: 88%                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ å¤æ‚åº¦: 85% (ä¸­ç­‰å¤æ‚åº¦)           â”‚
â”‚ â€¢ ç›¸ä¼¼åº¦: 92% (æœ‰ç±»ä¼¼æ¡ˆä¾‹)           â”‚
â”‚ â€¢ è¦†ç›–ç‡: 90% (éœ€æ±‚æ˜ç¡®)             â”‚
â”‚ â€¢ ä¸€è‡´æ€§: 88% (ç¬¦åˆç³»ç»Ÿæ¶æ„)         â”‚
â”‚ â€¢ é£é™©çº§: 85% (é£é™©å¯æ§)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å†³ç­–: æ ‡å‡†è¯„å®¡æµç¨‹                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨ Agent: fullstack-developer (é»˜è®¤) æˆ– nextjs-developer (å‰ç«¯ä¸ºä¸»)

ç‰¹æ®Šé¢†åŸŸéœ€è¦é¢å¤–å’¨è¯¢ï¼š
- å…«å­—å‘½ç†åŠŸèƒ½: bazi-expert Agent
- é£æ°´ç›¸å…³åŠŸèƒ½: fengshui-expert Agent
- é€šç”¨ç„å­¦åŠŸèƒ½: metaphysics-consultant Agent

åˆ†æç»´åº¦ï¼š
1. åŠŸèƒ½éœ€æ±‚ç†è§£
2. éåŠŸèƒ½éœ€æ±‚è¯†åˆ«
3. æŠ€æœ¯å¯è¡Œæ€§åˆåˆ¤
4. å·¥ä½œé‡åˆæ­¥è¯„ä¼°
5. é£é™©ç‚¹è¯†åˆ«
6. ä¾èµ–å…³ç³»åˆ†æ
7. å¹¶è¡ŒåŒ–æœºä¼šè¯†åˆ«
```

#### 0.3 çµæ´»æ€§å†³ç­–ç‚¹
```yaml
å†³ç­–ç‚¹:
  éœ€æ±‚å¤æ‚åº¦:
    ç®€å•: å¯è·³è¿‡è¯¦ç»†æ–‡æ¡£ï¼Œç›´æ¥è¿›å…¥å®ç°
    ä¸­ç­‰: æ ‡å‡†æµç¨‹
    å¤æ‚: éœ€è¦é¢å¤–çš„åŸå‹éªŒè¯é˜¶æ®µ
  
  æ—¶é—´ç´§æ€¥åº¦:
    ç´§æ€¥: å¯ç”¨å¿«é€Ÿé€šé“ï¼Œå¹¶è¡Œæ‰§è¡Œ
    æ­£å¸¸: æ ‡å‡†æµç¨‹
    å®½æ¾: å¯å¢åŠ é¢å¤–çš„ä¼˜åŒ–è¿­ä»£
  
  é£é™©ç­‰çº§:
    é«˜: éœ€è¦é¢å¤–çš„è¯„å®¡å’Œæµ‹è¯•
    ä¸­: æ ‡å‡†æµç¨‹
    ä½: å¯ç®€åŒ–éƒ¨åˆ†æµç¨‹
```

### é˜¶æ®µ1ï¼šéœ€æ±‚æ–‡æ¡£ç”Ÿæˆä¸è¯„å®¡

#### 1.1 ç”Ÿæˆéœ€æ±‚æ–‡æ¡£åˆç¨¿ (PRD - Product Requirements Document)
```markdown
# éœ€æ±‚æ–‡æ¡£ï¼šç”Ÿè‚–é…å¯¹åŠŸèƒ½

## 1. éœ€æ±‚æ¦‚è¿°
### 1.1 éœ€æ±‚æ¥æº
ç”¨æˆ·è‡ªç„¶è¯­è¨€æè¿°

### 1.2 éœ€æ±‚èƒŒæ™¯
å½“å‰ç³»ç»Ÿå·²æœ‰å…«å­—åˆ†æã€ç„ç©ºé£æ°´åŠŸèƒ½ï¼Œç”¨æˆ·å¸Œæœ›å¢åŠ ç”Ÿè‚–é…å¯¹åŠŸèƒ½ï¼Œ
ä¸°å¯Œäº§å“åŠŸèƒ½çŸ©é˜µï¼Œæå‡ç”¨æˆ·ç²˜æ€§ã€‚

### 1.3 ç›®æ ‡ç”¨æˆ·
- ä¸»è¦ç”¨æˆ·ï¼šå¯¹ä¼ ç»Ÿå‘½ç†æ„Ÿå…´è¶£çš„å¹´è½»ç”¨æˆ·
- æ¬¡è¦ç”¨æˆ·ï¼šå¸Œæœ›äº†è§£ä¸¤äººå…³ç³»çš„æƒ…ä¾£

## 2. åŠŸèƒ½éœ€æ±‚

### FR-001: ç”Ÿè‚–é…å¯¹è¾“å…¥
**ä¼˜å…ˆçº§**: P0  
**æè¿°**: ç”¨æˆ·å¯ä»¥è¾“å…¥ä¸¤ä¸ªäººçš„å‡ºç”Ÿæ—¥æœŸ

**éªŒæ”¶æ ‡å‡†**:
- [ ] æ”¯æŒæ—¥æœŸé€‰æ‹©å™¨è¾“å…¥
- [ ] è‡ªåŠ¨è®¡ç®—ç”Ÿè‚–
- [ ] æ”¯æŒæ‰‹åŠ¨é€‰æ‹©ç”Ÿè‚–
- [ ] è¾“å…¥éªŒè¯å’Œé”™è¯¯æç¤º

### FR-002: é…å¯¹åˆ†æè®¡ç®—
**ä¼˜å…ˆçº§**: P0  
**æè¿°**: ç³»ç»Ÿæ ¹æ®ç”Ÿè‚–ç»„åˆè®¡ç®—é…å¯¹æŒ‡æ•°

**éªŒæ”¶æ ‡å‡†**:
- [ ] é…å¯¹ç®—æ³•å‡†ç¡®
- [ ] è®¡ç®—ç»“æœåŒ…å«æŒ‡æ•°(0-100)
- [ ] æä¾›é…å¯¹åˆ†ææ–‡æœ¬
- [ ] å“åº”æ—¶é—´ < 500ms

### FR-003: ç»“æœå±•ç¤º
**ä¼˜å…ˆçº§**: P0  
**æè¿°**: ä»¥å¯è§†åŒ–æ–¹å¼å±•ç¤ºé…å¯¹ç»“æœ

**éªŒæ”¶æ ‡å‡†**:
- [ ] é…å¯¹æŒ‡æ•°é›·è¾¾å›¾
- [ ] è¯¦ç»†åˆ†ææ–‡æœ¬
- [ ] æ”¹å–„å»ºè®®
- [ ] å“åº”å¼è®¾è®¡

### FR-004: ç¤¾äº¤åˆ†äº«
**ä¼˜å…ˆçº§**: P1  
**æè¿°**: ç”¨æˆ·å¯åˆ†äº«é…å¯¹ç»“æœåˆ°ç¤¾äº¤å¹³å°

**éªŒæ”¶æ ‡å‡†**:
- [ ] ç”Ÿæˆåˆ†äº«å›¾ç‰‡
- [ ] æ”¯æŒå¾®ä¿¡/QQ/å¾®åšåˆ†äº«
- [ ] åˆ†äº«é“¾æ¥è¿½è¸ª

## 3. éåŠŸèƒ½éœ€æ±‚

### NFR-001: æ€§èƒ½
- é¡µé¢åŠ è½½æ—¶é—´ < 2s
- é…å¯¹è®¡ç®—å“åº” < 500ms
- æ”¯æŒ 1000+ å¹¶å‘ç”¨æˆ·

### NFR-002: å®‰å…¨
- ç”¨æˆ·è¾“å…¥éªŒè¯
- é˜²æ­¢ CSRF æ”»å‡»
- æ•°æ®åŠ å¯†ä¼ è¾“

### NFR-003: å¯ç”¨æ€§
- ç§»åŠ¨ç«¯å‹å¥½
- æ”¯æŒå¤šè¯­è¨€(ä¸­æ–‡/è‹±æ–‡)
- ç¬¦åˆ WCAG 2.1 AA æ ‡å‡†

### NFR-004: å¯ç»´æŠ¤æ€§
- ä»£ç è¦†ç›–ç‡ > 80%
- æ–‡æ¡£å®Œæ•´
- éµå¾ªé¡¹ç›®è§„èŒƒ

## 4. æ•°æ®éœ€æ±‚

### 4.1 è¾“å…¥æ•°æ®
```typescript
interface ZodiacMatchInput {
  person1: {
    birthDate: string;  // YYYY-MM-DD
    zodiac?: string;    // å¯é€‰ï¼Œè‡ªåŠ¨è®¡ç®—
  };
  person2: {
    birthDate: string;
    zodiac?: string;
  };
  locale?: 'zh' | 'en';
}
```

### 4.2 è¾“å‡ºæ•°æ®
```typescript
interface ZodiacMatchResult {
  matchScore: number;      // 0-100
  compatibility: string;   // 'excellent' | 'good' | 'fair' | 'poor'
  analysis: {
    strengths: string[];
    weaknesses: string[];
    suggestions: string[];
  };
  zodiacInfo: {
    person1: ZodiacInfo;
    person2: ZodiacInfo;
  };
}
```

## 5. çº¦æŸæ¡ä»¶

### 5.1 æŠ€æœ¯çº¦æŸ
- ä½¿ç”¨ç°æœ‰æŠ€æœ¯æ ˆ (Next.js + TypeScript)
- é›†æˆç°æœ‰ç§¯åˆ†ç³»ç»Ÿ
- å¤ç”¨ç°æœ‰ UI ç»„ä»¶åº“

### 5.2 ä¸šåŠ¡çº¦æŸ
- åŠŸèƒ½éœ€è¦æ¶ˆè€—ç§¯åˆ†(å¾…å®š)
- éµå®ˆç›¸å…³æ³•è§„
- å†…å®¹å®¡æ ¸æœºåˆ¶

### 5.3 æ—¶é—´çº¦æŸ
- é¢„è®¡å¼€å‘å‘¨æœŸ: 2-3 å‘¨
- MVP ç‰ˆæœ¬: 1 å‘¨

## 6. ä¾èµ–å…³ç³»

### 6.1 å‰ç½®ä¾èµ–
- ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- ç§¯åˆ†ç³»ç»Ÿ
- æ•°æ®åº“

### 6.2 å¤–éƒ¨ä¾èµ–
- æ— ç‰¹æ®Šå¤–éƒ¨ä¾èµ–

## 7. é£é™©è¯„ä¼°

| é£é™© | å½±å“ | æ¦‚ç‡ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| ç®—æ³•å‡†ç¡®æ€§ | é«˜ | ä¸­ | ä¸“å®¶éªŒè¯ + ç”¨æˆ·åé¦ˆ |
| æ€§èƒ½ç“¶é¢ˆ | ä¸­ | ä½ | ç¼“å­˜ç­–ç•¥ + æ€§èƒ½æµ‹è¯• |
| ç”¨æˆ·æ¥å—åº¦ | é«˜ | ä¸­ | å°èŒƒå›´æµ‹è¯• + è¿­ä»£ä¼˜åŒ– |

## 8. æˆåŠŸæ ‡å‡†

- [ ] åŠŸèƒ½ä¸Šçº¿å 7 å¤©å†…ä½¿ç”¨ç‡ > 20%
- [ ] ç”¨æˆ·æ»¡æ„åº¦ > 4.0/5.0
- [ ] æ—  P0/P1 çº§åˆ« Bug
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡
```

#### 1.2 éœ€æ±‚æ–‡æ¡£è¯„å®¡ï¼ˆæ™ºèƒ½è¯„å®¡å†³ç­–ï¼‰
```text
AI: éœ€æ±‚æ–‡æ¡£åˆç¨¿å·²ç”Ÿæˆï¼Œç°åœ¨ç»„ç»‡è¯„å®¡...

ç½®ä¿¡åº¦: 88% â†’ é‡‡ç”¨æ ‡å‡†è¯„å®¡æµç¨‹

å¦‚æœç½®ä¿¡åº¦ > 95%:
  â†’ è‡ªåŠ¨æ‰¹å‡†ï¼Œä»…é€šçŸ¥
å¦‚æœç½®ä¿¡åº¦ 80-95%:
  â†’ æ ‡å‡†è¯„å®¡ï¼ˆå½“å‰ï¼‰
å¦‚æœç½®ä¿¡åº¦ 60-80%:
  â†’ è¯¦ç»†è¯„å®¡
å¦‚æœç½®ä¿¡åº¦ < 60%:
  â†’ å¤šAgentäº¤å‰éªŒè¯

è¯„å®¡ Agent åˆ†é…ï¼š
- ä¸»è¯„å®¡: architect-reviewer Agent (æ¶æ„è§†è§’)
- ä¸šåŠ¡è¯„å®¡: fullstack-developer Agent (æŠ€æœ¯å¯è¡Œæ€§)
- é¢†åŸŸä¸“å®¶: å¦‚ bazi-expert / fengshui-expert (ç‰¹æ®Šéœ€æ±‚)

è¯„å®¡æ£€æŸ¥ç‚¹ï¼š
1. âœ“ éœ€æ±‚æè¿°æ˜¯å¦æ¸…æ™°å®Œæ•´ï¼Ÿ
2. âœ“ æ˜¯å¦ç¬¦åˆç”¨æˆ·åŸå§‹æ„å›¾ï¼Ÿ
3. âœ“ åŠŸèƒ½éœ€æ±‚æ˜¯å¦é—æ¼ï¼Ÿ
4. âœ“ éåŠŸèƒ½éœ€æ±‚æ˜¯å¦è€ƒè™‘å‘¨å…¨ï¼Ÿ
5. âœ“ éªŒæ”¶æ ‡å‡†æ˜¯å¦æ˜ç¡®å¯æµ‹ï¼Ÿ
6. âœ“ æ•°æ®ç»“æ„æ˜¯å¦åˆç†ï¼Ÿ
7. âœ“ çº¦æŸæ¡ä»¶æ˜¯å¦åˆç†ï¼Ÿ
8. âœ“ é£é™©æ˜¯å¦è¯†åˆ«å……åˆ†ï¼Ÿ

ç”¨æˆ·åé¦ˆï¼š
æ‚¨: "éœ€æ±‚æ–‡æ¡£å¾ˆå®Œæ•´ï¼Œä½†æˆ‘å¸Œæœ›é…å¯¹æŒ‡æ•°èƒ½æ˜¾ç¤ºæ›´è¯¦ç»†çš„ç»´åº¦ï¼Œ
     æ¯”å¦‚æ€§æ ¼å¥‘åˆåº¦ã€è´¢è¿äº’è¡¥åº¦ã€äº‹ä¸šåä½œåº¦ç­‰å¤šä¸ªç»´åº¦"

AI: å¥½çš„ï¼Œæˆ‘å°†æ›´æ–°éœ€æ±‚æ–‡æ¡£...
[æ›´æ–° FR-003 å’Œæ•°æ®ç»“æ„]

å†æ¬¡è¯„å®¡...
æ‚¨: "ç°åœ¨çœ‹èµ·æ¥å¾ˆå¥½ï¼Œç¡®è®¤éœ€æ±‚æ–‡æ¡£"
```

#### 1.3 ç¡®å®šæœ€ç»ˆéœ€æ±‚æ–‡æ¡£
```bash
# ä¿å­˜åˆ°é¡¹ç›®æ–‡æ¡£ç›®å½•
æ–‡ä»¶ä½ç½®: @PRD_zodiac_matching_v1.0.md
çŠ¶æ€: âœ… å·²ç¡®è®¤
```

### é˜¶æ®µ2ï¼šæŠ€æœ¯æ–¹æ¡ˆè®¾è®¡ä¸è¯„å®¡

#### 2.1 è°ƒç”¨æŠ€æœ¯åˆ†æ Agent
```text
AI: åŸºäºç¡®è®¤çš„éœ€æ±‚æ–‡æ¡£ï¼Œæˆ‘å°†è°ƒç”¨æŠ€æœ¯åˆ†æ Agent ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆ...

ä½¿ç”¨ Agent:
- ä¸»è®¾è®¡: architect-reviewer Agent (ç³»ç»Ÿæ¶æ„)
- ååŠ©: fullstack-developer Agent (æŠ€æœ¯å®ç°)
- é¢†åŸŸä¸“å®¶: bazi-expert / fengshui-expert (ä¸“ä¸šç®—æ³•)

æŠ€æœ¯åˆ†æç»´åº¦ï¼š
1. ç³»ç»Ÿæ¶æ„è®¾è®¡
2. æŠ€æœ¯é€‰å‹
3. æ•°æ®åº“è®¾è®¡
4. API è®¾è®¡
5. å‰ç«¯æ¶æ„
6. æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ
7. å®‰å…¨æ–¹æ¡ˆ
8. æµ‹è¯•ç­–ç•¥
```

#### 2.2 ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£
```markdown
# æŠ€æœ¯æ–¹æ¡ˆï¼šç”Ÿè‚–é…å¯¹åŠŸèƒ½

## 1. ç³»ç»Ÿæ¶æ„

### 1.1 æ•´ä½“æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯å±‚    â”‚  Next.js é¡µé¢ + React ç»„ä»¶
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   API å±‚    â”‚  Next.js API Routes
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸šåŠ¡é€»è¾‘å±‚  â”‚  ç”Ÿè‚–ç®—æ³• + é…å¯¹è®¡ç®—
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ•°æ®è®¿é—®å±‚  â”‚  Prisma ORM
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   æ•°æ®åº“    â”‚  PostgreSQL
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ¨¡å—åˆ’åˆ†
```typescript
src/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ zodiac/
â”‚       â”œâ”€â”€ calculator.ts      // ç”Ÿè‚–è®¡ç®—
â”‚       â”œâ”€â”€ matcher.ts          // é…å¯¹ç®—æ³•
â”‚       â””â”€â”€ analyzer.ts         // åˆ†æå¼•æ“
â”œâ”€â”€ app/
â”‚   â””â”€â”€ [locale]/
â”‚       â””â”€â”€ zodiac-match/
â”‚           â””â”€â”€ page.tsx        // é…å¯¹é¡µé¢
â”œâ”€â”€ components/
â”‚   â””â”€â”€ zodiac/
â”‚       â”œâ”€â”€ match-form.tsx      // è¾“å…¥è¡¨å•
â”‚       â”œâ”€â”€ match-result.tsx    // ç»“æœå±•ç¤º
â”‚       â””â”€â”€ share-card.tsx      // åˆ†äº«å¡ç‰‡
â””â”€â”€ actions/
    â””â”€â”€ zodiac-match.ts         // Server Action
```

## 2. æ•°æ®åº“è®¾è®¡

### 2.1 æ–°å¢è¡¨ç»“æ„
```sql
-- ç”Ÿè‚–é…å¯¹è®°å½•è¡¨
CREATE TABLE zodiac_matches (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  person1_zodiac VARCHAR(20) NOT NULL,
  person2_zodiac VARCHAR(20) NOT NULL,
  match_score INTEGER NOT NULL,
  compatibility VARCHAR(20) NOT NULL,
  analysis JSONB,
  created_at TIMESTAMP DEFAULT NOW(),
  INDEX idx_user_id (user_id),
  INDEX idx_created_at (created_at)
);

-- ç”Ÿè‚–é…å¯¹åˆ†äº«è¡¨
CREATE TABLE zodiac_shares (
  id UUID PRIMARY KEY,
  match_id UUID REFERENCES zodiac_matches(id),
  share_token VARCHAR(100) UNIQUE,
  platform VARCHAR(20),
  view_count INTEGER DEFAULT 0,
  created_at TIMESTAMP DEFAULT NOW()
);
```

## 3. API è®¾è®¡

### 3.1 é…å¯¹è®¡ç®— API
```typescript
// POST /api/zodiac/match
interface Request {
  person1: { birthDate: string; zodiac?: string };
  person2: { birthDate: string; zodiac?: string };
  locale?: string;
}

interface Response {
  success: boolean;
  data?: {
    matchId: string;
    matchScore: number;
    compatibility: string;
    dimensions: {
      personality: number;    // æ€§æ ¼å¥‘åˆåº¦
      fortune: number;        // è´¢è¿äº’è¡¥åº¦
      career: number;         // äº‹ä¸šåä½œåº¦
      health: number;         // å¥åº·äº’åŠ©åº¦
      emotion: number;        // æƒ…æ„Ÿå’Œè°åº¦
    };
    analysis: AnalysisResult;
  };
  error?: string;
}
```

### 3.2 åˆ†äº«ç”Ÿæˆ API
```typescript
// POST /api/zodiac/share
interface Request {
  matchId: string;
  platform: 'wechat' | 'qq' | 'weibo';
}

interface Response {
  success: boolean;
  data?: {
    shareToken: string;
    shareUrl: string;
    imageUrl: string;
  };
}
```

## 4. æ ¸å¿ƒç®—æ³•è®¾è®¡

### 4.1 ç”Ÿè‚–è®¡ç®—ç®—æ³•
```typescript
function calculateZodiac(birthDate: string): Zodiac {
  // ä½¿ç”¨ lunar-javascript åº“
  // è€ƒè™‘ç«‹æ˜¥èŠ‚æ°”
  // è¿”å›å‡†ç¡®çš„ç”Ÿè‚–
}
```

### 4.2 é…å¯¹ç®—æ³•
```typescript
function calculateMatch(
  zodiac1: Zodiac,
  zodiac2: Zodiac
): MatchResult {
  // åŸºäºä¼ ç»Ÿç”Ÿè‚–ç›¸ç”Ÿç›¸å…‹ç†è®º
  // å…­åˆã€ä¸‰åˆã€å…­å†²ã€å…­å®³ã€ä¸‰åˆ‘
  // å¤šç»´åº¦è¯„åˆ†ç®—æ³•
  
  const dimensions = {
    personality: calculatePersonality(zodiac1, zodiac2),
    fortune: calculateFortune(zodiac1, zodiac2),
    career: calculateCareer(zodiac1, zodiac2),
    health: calculateHealth(zodiac1, zodiac2),
    emotion: calculateEmotion(zodiac1, zodiac2),
  };
  
  const matchScore = calculateOverallScore(dimensions);
  
  return { matchScore, dimensions, analysis };
}
```

## 5. å‰ç«¯å®ç°æ–¹æ¡ˆ

### 5.1 çŠ¶æ€ç®¡ç†
```typescript
// ä½¿ç”¨ React useState + useReducer
interface MatchState {
  step: 'input' | 'loading' | 'result';
  input: ZodiacMatchInput | null;
  result: ZodiacMatchResult | null;
  error: string | null;
}
```

### 5.2 ç»„ä»¶è®¾è®¡
- **MatchForm**: è¾“å…¥è¡¨å•ç»„ä»¶
  - DatePicker é€‰æ‹©æ—¥æœŸ
  - è‡ªåŠ¨è®¡ç®—ç”Ÿè‚–
  - è¾“å…¥éªŒè¯
  
- **MatchResult**: ç»“æœå±•ç¤ºç»„ä»¶
  - é…å¯¹æŒ‡æ•°é›·è¾¾å›¾ (Recharts)
  - å¤šç»´åº¦è¯„åˆ†æ¡å½¢å›¾
  - è¯¦ç»†åˆ†ææ–‡æœ¬
  - åˆ†äº«æŒ‰é’®

- **ShareCard**: åˆ†äº«å¡ç‰‡ç»„ä»¶
  - ç¾è§‚çš„è§†è§‰è®¾è®¡
  - æ”¯æŒå›¾ç‰‡ç”Ÿæˆ
  - ç¤¾äº¤å¹³å°é€‚é…

## 6. æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ

### 6.1 ç¼“å­˜ç­–ç•¥
```typescript
// é…å¯¹ç»“æœç¼“å­˜ (Redis)
const cacheKey = `zodiac:match:${zodiac1}:${zodiac2}`;
const cachedResult = await redis.get(cacheKey);
if (cachedResult) return cachedResult;

// è®¡ç®—å¹¶ç¼“å­˜
const result = calculateMatch(zodiac1, zodiac2);
await redis.setex(cacheKey, 3600, result);
```

### 6.2 å‰ç«¯ä¼˜åŒ–
- ç»„ä»¶æ‡’åŠ è½½
- å›¾ç‰‡ä¼˜åŒ–
- ä»£ç åˆ†å‰²
- SSR/SSG

## 7. å®‰å…¨æ–¹æ¡ˆ

### 7.1 è¾“å…¥éªŒè¯
```typescript
import { z } from 'zod';

const MatchInputSchema = z.object({
  person1: z.object({
    birthDate: z.string().regex(/^\d{4}-\d{2}-\d{2}$/),
    zodiac: z.string().optional(),
  }),
  person2: z.object({
    birthDate: z.string().regex(/^\d{4}-\d{2}-\d{2}$/),
    zodiac: z.string().optional(),
  }),
});
```

### 7.2 è®¿é—®æ§åˆ¶
- ç”¨æˆ·è®¤è¯æ£€æŸ¥
- ç§¯åˆ†æ‰£é™¤éªŒè¯
- é¢‘ç‡é™åˆ¶ (Rate Limiting)

## 8. æµ‹è¯•ç­–ç•¥

### 8.1 å•å…ƒæµ‹è¯•
- ç”Ÿè‚–è®¡ç®—å‡½æ•°æµ‹è¯•
- é…å¯¹ç®—æ³•æµ‹è¯•
- å„ç»´åº¦è®¡ç®—æµ‹è¯•

### 8.2 é›†æˆæµ‹è¯•
- API ç«¯ç‚¹æµ‹è¯•
- æ•°æ®åº“æ“ä½œæµ‹è¯•
- ç§¯åˆ†æ‰£é™¤æµ‹è¯•

### 8.3 E2E æµ‹è¯•
- å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•
- å¤šè®¾å¤‡é€‚é…æµ‹è¯•
- åˆ†äº«åŠŸèƒ½æµ‹è¯•

## 9. éƒ¨ç½²æ–¹æ¡ˆ

### 9.1 æ•°æ®åº“è¿ç§»
```bash
prisma migrate dev --name add_zodiac_match
```

### 9.2 ç¯å¢ƒå˜é‡
```env
ZODIAC_MATCH_CREDITS=15  # é…å¯¹æ¶ˆè€—ç§¯åˆ†
```

### 9.3 éƒ¨ç½²æ­¥éª¤
1. æ•°æ®åº“è¿ç§»
2. ä»£ç éƒ¨ç½²
3. ç¼“å­˜é¢„çƒ­
4. ç°åº¦å‘å¸ƒ
5. å…¨é‡ä¸Šçº¿

## 10. ç›‘æ§æ–¹æ¡ˆ

### 10.1 å…³é”®æŒ‡æ ‡
- API å“åº”æ—¶é—´
- é…å¯¹è®¡ç®—å‡†ç¡®ç‡
- ç”¨æˆ·ä½¿ç”¨ç‡
- é”™è¯¯ç‡

### 10.2 å‘Šè­¦è§„åˆ™
- å“åº”æ—¶é—´ > 1s
- é”™è¯¯ç‡ > 1%
- ç§¯åˆ†æ‰£é™¤å¼‚å¸¸
```

#### 2.3 æŠ€æœ¯æ–¹æ¡ˆè¯„å®¡
```text
AI: æŠ€æœ¯æ–¹æ¡ˆå·²ç”Ÿæˆï¼Œç°åœ¨ç»„ç»‡è¯„å®¡...

è¯„å®¡å‚ä¸è€…ï¼š
- architect-reviewer Agent: æ¶æ„å®¡æŸ¥
- security-engineer Agent: å®‰å…¨å®¡æŸ¥
- performance-engineer Agent: æ€§èƒ½å®¡æŸ¥
- database-administrator Agent: æ•°æ®åº“å®¡æŸ¥

è¯„å®¡è¿‡ç¨‹ï¼š

1. æ¶æ„è¯„å®¡
   architect-reviewer: âœ“ æ¶æ„è®¾è®¡åˆç†ï¼Œæ¨¡å—åˆ’åˆ†æ¸…æ™°
   å»ºè®®: è€ƒè™‘æ·»åŠ ç¼“å­˜é¢„çƒ­æœºåˆ¶

2. å®‰å…¨è¯„å®¡
   security-engineer: âœ“ è¾“å…¥éªŒè¯å®Œå–„
   å»ºè®®: æ·»åŠ  CSRF Token éªŒè¯

3. æ€§èƒ½è¯„å®¡
   performance-engineer: âœ“ ç¼“å­˜ç­–ç•¥åˆç†
   å»ºè®®: è€ƒè™‘ä½¿ç”¨ Worker çº¿ç¨‹å¤„ç†å¤æ‚è®¡ç®—

4. æ•°æ®åº“è¯„å®¡
   database-administrator: âœ“ è¡¨ç»“æ„è®¾è®¡åˆç†
   å»ºè®®: æ·»åŠ åˆ†åŒºè¡¨ç­–ç•¥åº”å¯¹æ•°æ®å¢é•¿

ç»¼åˆè¯„å®¡ç»“æœ: âœ… é€šè¿‡
éœ€è¦ä¿®æ”¹çš„ç‚¹:
1. æ·»åŠ  CSRF Token éªŒè¯
2. å®ç°ç¼“å­˜é¢„çƒ­
3. æ·»åŠ æ•°æ®åº“åˆ†åŒºç­–ç•¥

AI: æˆ‘å°†æ›´æ–°æŠ€æœ¯æ–¹æ¡ˆ...
[åº”ç”¨ä¿®æ”¹å»ºè®®]

æ‚¨: "æŠ€æœ¯æ–¹æ¡ˆçœ‹èµ·æ¥å¾ˆå®Œå–„ï¼Œç¡®è®¤é€šè¿‡"
```

#### 2.4 ä¿å­˜æœ€ç»ˆæŠ€æœ¯æ–¹æ¡ˆ
```bash
æ–‡ä»¶ä½ç½®: @TECH_GUIDE_zodiac_matching_v1.0.md
çŠ¶æ€: âœ… å·²ç¡®è®¤
```

### é˜¶æ®µ3ï¼šOpenSpec Proposal ç”Ÿæˆï¼ˆå«é¢„è§ˆç¯å¢ƒï¼‰

#### 3.1 åŸºäºéœ€æ±‚å’ŒæŠ€æœ¯æ–¹æ¡ˆåˆ›å»º OpenSpec Proposal
```text
ç”¨æˆ·: qiflow start "ç”Ÿè‚–é…å¯¹åŠŸèƒ½"  # ä½¿ç”¨ç»Ÿä¸€CLI

æˆ–ä¼ ç»Ÿæ–¹å¼: /openspec:proposal ç”Ÿè‚–é…å¯¹åŠŸèƒ½

AI: åŸºäºç¡®è®¤çš„éœ€æ±‚æ–‡æ¡£å’ŒæŠ€æœ¯æ–¹æ¡ˆï¼Œæˆ‘å°†åˆ›å»º OpenSpec proposal...

åˆ›å»ºæ–‡ä»¶ç»“æ„ï¼š
openspec/
â”œâ”€â”€ changes/
â”‚   â””â”€â”€ add-zodiac-match/
â”‚       â”œâ”€â”€ proposal.md        # ä¸ºä»€ä¹ˆå’Œåšä»€ä¹ˆ
â”‚       â”œâ”€â”€ tasks.md           # å®æ–½æ¸…å•
â”‚       â”œâ”€â”€ design.md          # æŠ€æœ¯å†³ç­–
â”‚       â””â”€â”€ specs/
â”‚           â””â”€â”€ zodiac/
â”‚               â””â”€â”€ spec.md    # è§„èŒƒå®šä¹‰
```

#### 3.2 OpenSpec Proposal å†…å®¹
```markdown
# proposal.md
## ç›®çš„
åŸºäºç”¨æˆ·éœ€æ±‚ï¼Œæ·»åŠ ç”Ÿè‚–é…å¯¹åŠŸèƒ½ï¼Œæå‡äº§å“åŠŸèƒ½ä¸°å¯Œåº¦

## èƒŒæ™¯
- ç°æœ‰å…«å­—å’Œé£æ°´åŠŸèƒ½
- ç”¨æˆ·å¸Œæœ›æœ‰æ›´è½»é‡çš„å‘½ç†åˆ†æ
- ç¤¾äº¤åˆ†äº«éœ€æ±‚å¼ºçƒˆ

## æè®®çš„å˜æ›´
1. æ·»åŠ ç”Ÿè‚–è®¡ç®—å’Œé…å¯¹ç®—æ³•
2. åˆ›å»ºé…å¯¹åˆ†æç•Œé¢
3. å®ç°ç¤¾äº¤åˆ†äº«åŠŸèƒ½
4. é›†æˆç§¯åˆ†ç³»ç»Ÿ

## å½±å“èŒƒå›´
- æ–°å¢é¡µé¢è·¯ç”±
- æ–°å¢æ•°æ®åº“è¡¨
- æ–°å¢ API ç«¯ç‚¹
- ç§¯åˆ†ç³»ç»Ÿé›†æˆ
```

#### 3.3 ç”Ÿæˆä»»åŠ¡æ¸…å• (tasks.md)
```markdown
# tasks.md

## Phase 1: åç«¯å®ç°
- [ ] 1.1 åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
- [ ] 1.2 å®ç°ç”Ÿè‚–è®¡ç®—ç®—æ³•
- [ ] 1.3 å®ç°é…å¯¹ç®—æ³•
- [ ] 1.4 åˆ›å»º API ç«¯ç‚¹
- [ ] 1.5 é›†æˆç§¯åˆ†ç³»ç»Ÿ

## Phase 2: å‰ç«¯å®ç°
- [ ] 2.1 åˆ›å»ºé…å¯¹é¡µé¢
- [ ] 2.2 å®ç°è¾“å…¥è¡¨å•ç»„ä»¶
- [ ] 2.3 å®ç°ç»“æœå±•ç¤ºç»„ä»¶
- [ ] 2.4 å®ç°åˆ†äº«å¡ç‰‡ç»„ä»¶
- [ ] 2.5 æ·»åŠ é¡µé¢è·¯ç”±

## Phase 3: æµ‹è¯•
- [ ] 3.1 ç¼–å†™å•å…ƒæµ‹è¯•
- [ ] 3.2 ç¼–å†™é›†æˆæµ‹è¯•
- [ ] 3.3 ç¼–å†™ E2E æµ‹è¯•
- [ ] 3.4 æ€§èƒ½æµ‹è¯•

## Phase 4: éƒ¨ç½²
- [ ] 4.1 æ•°æ®åº“è¿ç§»
- [ ] 4.2 é…ç½®ç¯å¢ƒå˜é‡
- [ ] 4.3 ç°åº¦å‘å¸ƒ
- [ ] 4.4 å…¨é‡ä¸Šçº¿
```

#### 3.4 éªŒè¯ OpenSpec
```bash
openspec validate add-zodiac-match
âœ“ Proposal æ ¼å¼æ­£ç¡®
âœ“ Tasks å®šä¹‰å®Œæ•´
âœ“ Specs ç¬¦åˆè§„èŒƒ
```

#### 3.5 è‡ªåŠ¨åˆ›å»ºé¢„è§ˆç¯å¢ƒ ğŸ†•
```text
AI: æ­£åœ¨ä¸ºæ­¤ Proposal åˆ›å»ºé¢„è§ˆç¯å¢ƒ...

âœ“ åˆ›å»ºéš”ç¦»æ•°æ®åº“å®ä¾‹
âœ“ éƒ¨ç½²åº”ç”¨åˆ°é¢„è§ˆç¯å¢ƒ
âœ“ é…ç½®åŸŸåå’ŒSSL

é¢„è§ˆç¯å¢ƒå·²å°±ç»ªï¼š
ğŸŒ å‰ç«¯: https://preview-zodiac-match.qiflowai.dev
ğŸ”§ API: https://preview-zodiac-match-api.qiflowai.dev
ğŸ“Š ç›‘æ§: https://preview-zodiac-match-metrics.qiflowai.dev

ç¯å¢ƒå°†åœ¨ 7 å¤©åè‡ªåŠ¨æ¸…ç†ï¼Œæˆ–åœ¨ PR åˆå¹¶åä¿ç•™ 24 å°æ—¶
```

### é˜¶æ®µ4ï¼šTaskMaster ä»»åŠ¡åˆ†è§£ä¸è¯„å®¡

#### 4.1 å°† OpenSpec ä»»åŠ¡å¯¼å…¥ TaskMaster
```bash
# åˆ›å»ºä¸»ä»»åŠ¡
task-master add-task \
  --prompt="å®ç°ç”Ÿè‚–é…å¯¹åŠŸèƒ½ - åŸºäº openspec/changes/add-zodiac-match/" \
  --priority="P1" \
  --research

# å±•å¼€ä¸ºå­ä»»åŠ¡
task-master expand-task --id="ZODIAC-001" --research --num=15
```

#### 4.2 TaskMaster ç”Ÿæˆçš„ä»»åŠ¡æ ‘ï¼ˆç»†ç²’åº¦ä¼˜åŒ–ï¼‰
```yaml
ZODIAC-001: ç”Ÿè‚–é…å¯¹åŠŸèƒ½
â”œâ”€â”€ ZODIAC-001-1: æ•°æ®åº“è®¾è®¡ä¸å®ç° [8h]
â”‚   â”œâ”€â”€ 001-1-1: è®¾è®¡è¡¨ç»“æ„ [2h]
â”‚   â”‚   â”œâ”€â”€ 001-1-1-1: ä¸»è¡¨è®¾è®¡ [1h]
â”‚   â”‚   â””â”€â”€ 001-1-1-2: ç´¢å¼•ä¼˜åŒ– [1h]
â”‚   â”œâ”€â”€ 001-1-2: ç¼–å†™ migration [2h]
â”‚   â”‚   â”œâ”€â”€ 001-1-2-1: åˆ›å»ºè„šæœ¬ [1h]
â”‚   â”‚   â””â”€â”€ 001-1-2-2: å›æ»šè„šæœ¬ [1h]
â”‚   â””â”€â”€ 001-1-3: åˆ›å»º Prisma schema [4h]
â”‚       â”œâ”€â”€ 001-1-3-1: æ¨¡å‹å®šä¹‰ [2h]
â”‚       â””â”€â”€ 001-1-3-2: å…³ç³»é…ç½® [2h]
â”œâ”€â”€ ZODIAC-001-2: æ ¸å¿ƒç®—æ³•å¼€å‘ [16h]
â”‚   â”œâ”€â”€ 001-2-1: ç”Ÿè‚–è®¡ç®—ç®—æ³• [4h]
â”‚   â”‚   â”œâ”€â”€ 001-2-1-1: åŸºç¡€è®¡ç®— [2h]
â”‚   â”‚   â””â”€â”€ 001-2-1-2: è¾¹ç•Œå¤„ç† [2h]
â”‚   â”œâ”€â”€ 001-2-2: é…å¯¹ç®—æ³•å®ç° [6h]
â”‚   â”‚   â”œâ”€â”€ 001-2-2-1: æ ¸å¿ƒç®—æ³• [3h]
â”‚   â”‚   â”œâ”€â”€ 001-2-2-2: ä¼˜åŒ–ç®—æ³• [2h]
â”‚   â”‚   â””â”€â”€ 001-2-2-3: ç¼“å­˜ç­–ç•¥ [1h]
â”‚   â”œâ”€â”€ 001-2-3: å¤šç»´åº¦åˆ†æ [4h]
â”‚   â”‚   â”œâ”€â”€ 001-2-3-1: ç»´åº¦è®¡ç®— [2h]
â”‚   â”‚   â””â”€â”€ 001-2-3-2: æƒé‡é…ç½® [2h]
â”‚   â””â”€â”€ 001-2-4: ç®—æ³•æµ‹è¯• [2h]
â”‚       â”œâ”€â”€ 001-2-4-1: å•å…ƒæµ‹è¯• [1h]
â”‚       â””â”€â”€ 001-2-4-2: æ€§èƒ½æµ‹è¯• [1h]
â”œâ”€â”€ ZODIAC-001-3: API å¼€å‘ [12h] (å¯ä¸001-2å¹¶è¡Œ)
â”‚   â”œâ”€â”€ 001-3-1: è®¡ç®—ç«¯ç‚¹ [3h]
â”‚   â”œâ”€â”€ 001-3-2: åˆ†äº«ç«¯ç‚¹ [3h]
â”‚   â”œâ”€â”€ 001-3-3: ç§¯åˆ†é›†æˆ [3h]
â”‚   â””â”€â”€ 001-3-4: API æµ‹è¯• [3h]
â”œâ”€â”€ ZODIAC-001-4: å‰ç«¯å¼€å‘ [20h] (å¯ä¸001-2,001-3å¹¶è¡Œ)
â”‚   â”œâ”€â”€ 001-4-1: é¡µé¢å¸ƒå±€ [4h]
â”‚   â”œâ”€â”€ 001-4-2: è¡¨å•ç»„ä»¶ [4h]
â”‚   â”œâ”€â”€ 001-4-3: ç»“æœç»„ä»¶ [4h]
â”‚   â”œâ”€â”€ 001-4-4: åˆ†äº«ç»„ä»¶ [4h]
â”‚   â””â”€â”€ 001-4-5: å“åº”å¼é€‚é… [4h]
â””â”€â”€ ZODIAC-001-5: æµ‹è¯•ä¸éƒ¨ç½² [16h]
    â”œâ”€â”€ 001-5-1: å•å…ƒæµ‹è¯• [4h]
    â”œâ”€â”€ 001-5-2: E2E æµ‹è¯• [4h]
    â”œâ”€â”€ 001-5-3: æ€§èƒ½ä¼˜åŒ– [4h]
    â””â”€â”€ 001-5-4: éƒ¨ç½²ä¸Šçº¿ [4h]

ä»»åŠ¡ç²’åº¦æ ‡å‡†:
- åŸå­ä»»åŠ¡: 0.5-2å°æ—¶
- å­ä»»åŠ¡: 2-4å°æ—¶
- ä¸»ä»»åŠ¡: 4-8å°æ—¶
- å²è¯—ä»»åŠ¡: > 8å°æ—¶ï¼ˆéœ€è¦è¿›ä¸€æ­¥æ‹†åˆ†ï¼‰
```

#### 4.3 ä»»åŠ¡è¯„å®¡
```text
AI: ä»»åŠ¡åˆ†è§£å®Œæˆï¼Œç°åœ¨è¿›è¡Œè¯„å®¡...

è¯„å®¡ç»´åº¦ï¼š
1. âœ“ ä»»åŠ¡ç²’åº¦æ˜¯å¦åˆé€‚ (2-8å°æ—¶)ï¼Ÿ
2. âœ“ ä¾èµ–å…³ç³»æ˜¯å¦æ­£ç¡®ï¼Ÿ
3. âœ“ æ˜¯å¦è¦†ç›–æ‰€æœ‰éœ€æ±‚ï¼Ÿ
4. âœ“ ä¼˜å…ˆçº§æ˜¯å¦åˆç†ï¼Ÿ
5. âœ“ å·¥ä½œé‡ä¼°ç®—æ˜¯å¦å‡†ç¡®ï¼Ÿ

è¯„å®¡ç»“æœï¼š
- ä»»åŠ¡æ€»æ•°: 20
- é¢„è®¡å·¥æ—¶: 120 å°æ—¶
- å…³é”®è·¯å¾„: æ•°æ®åº“ â†’ ç®—æ³• â†’ API â†’ å‰ç«¯ â†’ æµ‹è¯•
- å¯å¹¶è¡Œä»»åŠ¡: å‰ç«¯å¼€å‘å¯ä¸ API å¼€å‘å¹¶è¡Œ

æ‚¨: "ä»»åŠ¡åˆ†è§£åˆç†ï¼Œå¼€å§‹æ‰§è¡Œ"
```

#### 4.4 è®¾ç½®ä»»åŠ¡ä¾èµ–ï¼ˆå¢å¼ºç‰ˆï¼‰
```typescript
// å®šä¹‰ä¾èµ–å…³ç³»ç±»å‹
type DependencyType = 'blocking' | 'soft' | 'optional';

interface TaskDependency {
  id: string;
  dependsOn: string[];
  dependencyType: DependencyType;
  canParallel?: string[];  // å¯å¹¶è¡Œçš„ä»»åŠ¡
}

// æ‰¹é‡è®¾ç½®ä¾èµ–å…³ç³»
const dependencies: TaskDependency[] = [
  {
    id: "001-2-1",
    dependsOn: ["001-1-3"],
    dependencyType: 'blocking',
    canParallel: ["001-4-1", "001-4-2"]
  },
  {
    id: "001-3-1",
    dependsOn: ["001-2-2"],
    dependencyType: 'soft',  // è½¯ä¾èµ–ï¼Œå¯ä»¥å…ˆå¼€å§‹å‡†å¤‡
    canParallel: ["001-3-2", "001-3-3"]
  },
  {
    id: "001-4-1",
    dependsOn: [],  // å‰ç«¯å¯ä»¥ç‹¬ç«‹å¼€å§‹
    dependencyType: 'optional',
    canParallel: ["001-4-2", "001-4-3", "001-4-4"]
  }
];

// åº”ç”¨ä¾èµ–å…³ç³»
for (const dep of dependencies) {
  await call_mcp_tool("add_dependency", {
    id: dep.id,
    dependsOn: dep.dependsOn.join(','),
    projectRoot: "D:\\test\\mksaas_qiflowai"
  });
}

// å…³é”®è·¯å¾„åˆ†æ
await call_mcp_tool("analyze_project_complexity", {
  projectRoot: "D:\\test\\mksaas_qiflowai",
  threshold: 5,
  research: true
});
```

### é˜¶æ®µ5ï¼šAgent ååŒæ‰§è¡Œ

#### 5.1 Agent ä»»åŠ¡åˆ†é…
```yaml
ä»»åŠ¡åˆ†é…çŸ©é˜µ:

backend-developer:
  è´Ÿè´£: [æ•°æ®åº“è®¾è®¡, API å¼€å‘]
  ä»»åŠ¡: [001-1-*, 001-3-*]

fullstack-developer:
  è´Ÿè´£: [ç®—æ³•å¼€å‘, é›†æˆ]
  ä»»åŠ¡: [001-2-*]

frontend-developer:
  è´Ÿè´£: [UI ç»„ä»¶, é¡µé¢]
  ä»»åŠ¡: [001-4-*]

qa-expert:
  è´Ÿè´£: [æµ‹è¯•ç­–ç•¥, æµ‹è¯•æ‰§è¡Œ]
  ä»»åŠ¡: [001-5-1, 001-5-2]

devops-engineer:
  è´Ÿè´£: [éƒ¨ç½², ç›‘æ§]
  ä»»åŠ¡: [001-5-3, 001-5-4]
```

#### 5.2 Agent ååŒæ‰§è¡Œç¤ºä¾‹
```text
AI: å¼€å§‹å¤š Agent ååŒæ‰§è¡Œ...

[backend-developer Agent]
æ‰§è¡Œä»»åŠ¡ 001-1-1: è®¾è®¡è¡¨ç»“æ„
âœ“ åˆ›å»º zodiac_matches è¡¨å®šä¹‰
âœ“ åˆ›å»º zodiac_shares è¡¨å®šä¹‰
âœ“ æ·»åŠ ç´¢å¼•å’Œçº¦æŸ
çŠ¶æ€: å®Œæˆ

[fullstack-developer Agent]
æ‰§è¡Œä»»åŠ¡ 001-2-1: ç”Ÿè‚–è®¡ç®—ç®—æ³•
âœ“ é›†æˆ lunar-javascript åº“
âœ“ å®ç°èŠ‚æ°”åˆ¤æ–­é€»è¾‘
âœ“ å¤„ç†è¾¹ç•Œæƒ…å†µ
çŠ¶æ€: å®Œæˆ

[frontend-developer Agent]
æ‰§è¡Œä»»åŠ¡ 001-4-1: é¡µé¢å¸ƒå±€
âœ“ åˆ›å»ºé¡µé¢ç»“æ„
âœ“ å®ç°å“åº”å¼å¸ƒå±€
âœ“ æ·»åŠ åŠ¨ç”»æ•ˆæœ
çŠ¶æ€: å®Œæˆ

[Agent åä½œ]
frontend-developer â†’ backend-developer:
  "éœ€è¦ API å“åº”æ ¼å¼å®šä¹‰"
backend-developer â†’ frontend-developer:
  "å·²æä¾› TypeScript ç±»å‹å®šä¹‰"
```

#### 5.3 å®æ—¶è¿›åº¦è·Ÿè¸ªä¸åé¦ˆå¾ªç¯
```typescript
// è¿›åº¦ç›‘æ§ç³»ç»Ÿ
interface ProgressMonitor {
  taskId: string;
  status: 'pending' | 'in-progress' | 'done' | 'blocked' | 'failed';
  progress: number;  // 0-100
  startTime?: Date;
  estimatedTime?: number;
  actualTime?: number;
  blockers?: string[];
  alerts?: Alert[];
}

// åé¦ˆå¾ªç¯å¤„ç†
class FeedbackLoop {
  async monitor(taskId: string) {
    const task = await call_mcp_tool("get_task", {
      id: taskId,
      projectRoot: "D:\\test\\mksaas_qiflowai"
    });
    
    // æ£€æµ‹å¼‚å¸¸æƒ…å†µ
    if (task.actualTime > task.estimatedTime * 1.5) {
      await this.triggerAlert('TIME_OVERRUN', taskId);
    }
    
    if (task.status === 'blocked') {
      await this.handleBlocker(taskId, task.blockers);
    }
    
    if (task.status === 'failed') {
      await this.handleFailure(taskId);
    }
  }
  
  async triggerAlert(type: string, taskId: string) {
    // å‘é€é€šçŸ¥
    console.log(`âš ï¸ Alert: ${type} for task ${taskId}`);
    
    // è‡ªåŠ¨è°ƒæ•´ä¼˜å…ˆçº§
    if (type === 'TIME_OVERRUN') {
      await this.adjustPriority(taskId, 'increase');
    }
  }
  
  async handleBlocker(taskId: string, blockers: string[]) {
    // å°è¯•è‡ªåŠ¨è§£å†³é˜»å¡
    for (const blocker of blockers) {
      if (blocker === 'DEPENDENCY_NOT_MET') {
        // åŠ é€Ÿä¾èµ–ä»»åŠ¡
        await this.accelerateDependencies(taskId);
      } else if (blocker === 'RESOURCE_UNAVAILABLE') {
        // é‡æ–°åˆ†é…èµ„æº
        await this.reallocateResources(taskId);
      }
    }
  }
  
  async handleFailure(taskId: string) {
    // å¤±è´¥å¤„ç†ç­–ç•¥
    const strategy = await this.determineFailureStrategy(taskId);
    
    switch(strategy) {
      case 'RETRY':
        await this.retryTask(taskId);
        break;
      case 'ROLLBACK':
        await this.rollbackTask(taskId);
        break;
      case 'ESCALATE':
        await this.escalateToHuman(taskId);
        break;
    }
  }
  
  async adjustPriority(taskId: string, action: 'increase' | 'decrease') {
    // åŠ¨æ€è°ƒæ•´ä»»åŠ¡ä¼˜å…ˆçº§
    await call_mcp_tool("update_task", {
      id: taskId,
      prompt: `Priority ${action}d due to feedback loop detection`,
      projectRoot: "D:\\test\\mksaas_qiflowai"
    });
  }
}

// å®æ—¶è¿›åº¦ä»ªè¡¨æ¿
const progressDashboard = {
  async getSnapshot() {
    const tasks = await call_mcp_tool("get_tasks", {
      projectRoot: "D:\\test\\mksaas_qiflowai",
      withSubtasks: true
    });
    
    return {
      æ€»ä»»åŠ¡æ•°: tasks.total,
      å®Œæˆ: tasks.done,
      è¿›è¡Œä¸­: tasks.inProgress,
      é˜»å¡: tasks.blocked,
      å¤±è´¥: tasks.failed,
      è¿›åº¦: Math.round((tasks.done / tasks.total) * 100),
      é¢„è®¡å®Œæˆæ—¶é—´: this.estimateCompletion(tasks),
      å…³é”®è·¯å¾„çŠ¶æ€: this.getCriticalPathStatus(tasks),
      é£é™©ç­‰çº§: this.assessRisk(tasks)
    };
  }
};
```

### é˜¶æ®µ6ï¼šä»£ç å®ç°ä¸å®¡æŸ¥

#### 6.1 ä»£ç å®ç°è¿‡ç¨‹
```text
AI: å¼€å§‹ä»£ç å®ç°...

/openspec:apply add-zodiac-match

æ‰§è¡Œä»»åŠ¡æ¸…å•:
âœ“ Task 1.1: åˆ›å»ºæ•°æ®åº“è¡¨ç»“æ„
  - æ–‡ä»¶: prisma/schema.prisma
  - æ·»åŠ  ZodiacMatch å’Œ ZodiacShare æ¨¡å‹

âœ“ Task 1.2: å®ç°ç”Ÿè‚–è®¡ç®—ç®—æ³•
  - æ–‡ä»¶: src/lib/zodiac/calculator.ts
  - å®ç° calculateZodiac å‡½æ•°

âœ“ Task 1.3: å®ç°é…å¯¹ç®—æ³•
  - æ–‡ä»¶: src/lib/zodiac/matcher.ts
  - å®ç°å¤šç»´åº¦é…å¯¹ç®—æ³•

âœ“ Task 1.4: åˆ›å»º API ç«¯ç‚¹
  - æ–‡ä»¶: app/api/zodiac/match/route.ts
  - å®ç° POST å¤„ç†å‡½æ•°

âœ“ Task 2.1: åˆ›å»ºé…å¯¹é¡µé¢
  - æ–‡ä»¶: app/[locale]/zodiac-match/page.tsx
  - å®ç°é¡µé¢ç»„ä»¶
```

#### 6.2 ä»£ç å®¡æŸ¥æµç¨‹
```text
AI: ä»£ç å®ç°å®Œæˆï¼Œå¼€å§‹å®¡æŸ¥...

è°ƒç”¨ code-reviewer Agent:

å®¡æŸ¥æŠ¥å‘Š:
1. ä»£ç è´¨é‡
   âœ“ TypeScript ç±»å‹å®Œæ•´
   âœ“ å‘½åè§„èŒƒç¬¦åˆæ ‡å‡†
   âœ“ å‡½æ•°èŒè´£å•ä¸€
   âš  å»ºè®®: matcher.ts ä¸­çš„ç®—æ³•å¯ä»¥è¿›ä¸€æ­¥æ¨¡å—åŒ–

2. å®‰å…¨æ€§
   âœ“ è¾“å…¥éªŒè¯å®Œæ•´
   âœ“ SQL æ³¨å…¥é˜²æŠ¤
   âš  å»ºè®®: æ·»åŠ é€Ÿç‡é™åˆ¶

3. æ€§èƒ½
   âœ“ æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
   âœ“ ä½¿ç”¨ç¼“å­˜æœºåˆ¶
   âš  å»ºè®®: è€ƒè™‘ä½¿ç”¨ Web Worker

4. å¯ç»´æŠ¤æ€§
   âœ“ ä»£ç æ³¨é‡Šå……åˆ†
   âœ“ é”™è¯¯å¤„ç†å®Œå–„
   âœ“ æ—¥å¿—è®°å½•å®Œæ•´

æ€»è¯„: é€šè¿‡ï¼Œæœ‰æ”¹è¿›å»ºè®®

AI: æˆ‘å°†åº”ç”¨æ”¹è¿›å»ºè®®...
[ä¿®æ”¹ä»£ç ]

æ‚¨: "ä»£ç å®¡æŸ¥é€šè¿‡ï¼Œç»§ç»­æµ‹è¯•"
```

### é˜¶æ®µ7ï¼šæµ‹è¯•éªŒè¯ï¼ˆé¢„è§ˆç¯å¢ƒï¼‰

#### 7.1 è‡ªåŠ¨åŒ–æµ‹è¯•æ‰§è¡Œï¼ˆåœ¨é¢„è§ˆç¯å¢ƒï¼‰
```bash
# åœ¨é¢„è§ˆç¯å¢ƒè¿è¡Œæµ‹è¯•
PREVIEW_URL=https://preview-zodiac-match.qiflowai.dev

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit -- --coverage

ç»“æœ:
âœ“ zodiac/calculator.test.ts (15/15)
âœ“ zodiac/matcher.test.ts (23/23)
âœ“ api/zodiac.test.ts (8/8)
âœ“ components/zodiac.test.tsx (12/12)

è¦†ç›–ç‡: 87%
```

#### 7.2 é›†æˆæµ‹è¯•
```text
AI: æ‰§è¡Œé›†æˆæµ‹è¯•...

è°ƒç”¨ qa-expert Agent:

æµ‹è¯•åœºæ™¯:
1. âœ“ ç”¨æˆ·è¾“å…¥ â†’ ç”Ÿè‚–è®¡ç®— â†’ é…å¯¹åˆ†æ â†’ ç»“æœå±•ç¤º
2. âœ“ ç§¯åˆ†æ‰£é™¤æµç¨‹
3. âœ“ åˆ†äº«åŠŸèƒ½ç”Ÿæˆ
4. âœ“ å¤šè¯­è¨€åˆ‡æ¢
5. âœ“ é”™è¯¯å¤„ç†

æ€§èƒ½æµ‹è¯•:
- API å“åº”æ—¶é—´: 120ms (ç›®æ ‡ < 500ms) âœ“
- é¡µé¢åŠ è½½æ—¶é—´: 1.3s (ç›®æ ‡ < 2s) âœ“
- å¹¶å‘æµ‹è¯•: 500 ç”¨æˆ· âœ“

å…¼å®¹æ€§æµ‹è¯•:
- Chrome âœ“
- Safari âœ“
- Firefox âœ“
- Mobile Safari âœ“
- Mobile Chrome âœ“
```

#### 7.3 ç”¨æˆ·éªŒæ”¶æµ‹è¯• (UAT)
```text
AI: å‡†å¤‡ç”¨æˆ·éªŒæ”¶æµ‹è¯•...

æµ‹è¯•ç¯å¢ƒ: https://preview-zodiac-match.qiflowai.dev  # ä½¿ç”¨é¢„è§ˆç¯å¢ƒ

åˆ†äº«ç»™ç›¸å…³äººå‘˜ï¼š
âœ‰ï¸ äº§å“ç»ç†: åŠŸèƒ½éªŒè¯
âœ‰ï¸ è®¾è®¡å¸ˆ: UI/UXéªŒè¯  
âœ‰ï¸ QAå›¢é˜Ÿ: æµ‹è¯•éªŒè¯
âœ‰ï¸ æŠ€æœ¯è´Ÿè´£äºº: æŠ€æœ¯è¯„å®¡

éªŒæ”¶æ¸…å•:
â–¡ åŠŸèƒ½å®Œæ•´æ€§
  âœ“ æ—¥æœŸè¾“å…¥æ­£ç¡®
  âœ“ ç”Ÿè‚–è‡ªåŠ¨è®¡ç®—
  âœ“ é…å¯¹ç»“æœå‡†ç¡®
  âœ“ å¤šç»´åº¦å±•ç¤º
  âœ“ åˆ†äº«åŠŸèƒ½å¯ç”¨

â–¡ ç”¨æˆ·ä½“éªŒ
  âœ“ ç•Œé¢ç¾è§‚
  âœ“ äº¤äº’æµç•…
  âœ“ å“åº”è¿…é€Ÿ
  âœ“ ç§»åŠ¨ç«¯å‹å¥½

â–¡ ä¸šåŠ¡è§„åˆ™
  âœ“ ç§¯åˆ†æ­£ç¡®æ‰£é™¤
  âœ“ å†å²è®°å½•ä¿å­˜
  âœ“ åˆ†äº«è¿½è¸ª

éªŒæ”¶ç»“æœ: âœ… é€šè¿‡
```

### é˜¶æ®µ8ï¼šæœ€ç»ˆè¯„å®¡ä¸å½’æ¡£

#### 8.1 æœ€ç»ˆè¯„å®¡ä¼šè®®
```text
AI: ç»„ç»‡æœ€ç»ˆè¯„å®¡...

å‚ä¸è€…:
- äº§å“ç»ç†: éœ€æ±‚ç¬¦åˆåº¦è¯„å®¡
- æŠ€æœ¯è´Ÿè´£äºº: æŠ€æœ¯å®ç°è¯„å®¡
- QA è´Ÿè´£äºº: è´¨é‡è¯„å®¡
- è¿ç»´è´Ÿè´£äºº: éƒ¨ç½²å‡†å¤‡è¯„å®¡

è¯„å®¡å†…å®¹:
1. éœ€æ±‚ç¬¦åˆåº¦: 100% âœ“
2. ä»£ç è´¨é‡: ä¼˜ç§€ âœ“
3. æµ‹è¯•è¦†ç›–: 87% âœ“
4. æ€§èƒ½è¾¾æ ‡: æ˜¯ âœ“
5. å®‰å…¨åˆè§„: æ˜¯ âœ“
6. æ–‡æ¡£å®Œæ•´: æ˜¯ âœ“

å†³è®®: æ‰¹å‡†ä¸Šçº¿
```

#### 8.2 OpenSpec å½’æ¡£
```bash
# å½’æ¡£å˜æ›´
openspec archive add-zodiac-match --yes

âœ“ å˜æ›´å·²å½’æ¡£åˆ° openspec/archive/
âœ“ è§„èŒƒå·²æ›´æ–°åˆ° openspec/specs/
âœ“ ä»»åŠ¡æ ‡è®°ä¸ºå®Œæˆ
```

#### 8.3 TaskMaster ä»»åŠ¡å…³é—­
```typescript
// æ ‡è®°æ‰€æœ‰ä»»åŠ¡å®Œæˆ
await call_mcp_tool("set_task_status", {
  id: "ZODIAC-001",
  status: "done",
  projectRoot: "D:\\test\\mksaas_qiflowai"
});

// ç”Ÿæˆå®ŒæˆæŠ¥å‘Š
await call_mcp_tool("complexity_report", {
  projectRoot: "D:\\test\\mksaas_qiflowai"
});
```

### é˜¶æ®µ9ï¼šéƒ¨ç½²ä¸Šçº¿ï¼ˆå«è‡ªåŠ¨å›æ»šï¼‰

#### 9.1 éƒ¨ç½²å‡†å¤‡ä¸å›æ»šç­–ç•¥
```bash
# éƒ¨ç½²å‰å‡†å¤‡
./scripts/pre-deploy-check.sh

# 1. åˆ›å»ºå›æ»šç‚¹
git tag -a "pre-deploy-$(date +%Y%m%d-%H%M%S)" -m "Pre-deployment checkpoint"
docker tag current-prod:latest current-prod:rollback

# 2. æ•°æ®åº“è¿ç§»ï¼ˆæ”¯æŒå›æ»šï¼‰
prisma migrate deploy --create-rollback-script

# 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build
if [ $? -ne 0 ]; then
  echo "Build failed, aborting deployment"
  exit 1
fi

# 4. Docker é•œåƒï¼ˆå¤šç‰ˆæœ¬ç®¡ç†ï¼‰
VERSION=$(git describe --tags --always)
docker build -t zodiac-match:$VERSION .
docker tag zodiac-match:$VERSION zodiac-match:latest

# 5. ç¯å¢ƒå˜é‡é…ç½®
export ZODIAC_MATCH_CREDITS=15
export ROLLBACK_ENABLED=true
export HEALTH_CHECK_INTERVAL=30
```

#### 9.2 è‡ªåŠ¨å›æ»šç­–ç•¥
```typescript
// è‡ªåŠ¨å›æ»šç³»ç»Ÿ
class AutoRollbackSystem {
  private healthChecks = [
    { name: 'APIå“åº”', threshold: 500, unit: 'ms' },
    { name: 'é”™è¯¯ç‡', threshold: 1, unit: '%' },
    { name: 'å†…å­˜ä½¿ç”¨', threshold: 80, unit: '%' },
    { name: 'CPUä½¿ç”¨', threshold: 70, unit: '%' }
  ];
  
  async monitorDeployment(deploymentId: string) {
    const startTime = Date.now();
    const monitoringDuration = 10 * 60 * 1000; // 10åˆ†é’Ÿ
    
    while (Date.now() - startTime < monitoringDuration) {
      const health = await this.checkHealth();
      
      if (!health.isHealthy) {
        console.log('âš ï¸ æ£€æµ‹åˆ°å¼‚å¸¸ï¼Œè§¦å‘è‡ªåŠ¨å›æ»š');
        await this.executeRollback(deploymentId, health.failureReason);
        break;
      }
      
      await this.sleep(30000); // æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡
    }
  }
  
  async checkHealth() {
    const results = [];
    
    for (const check of this.healthChecks) {
      const value = await this.getMetric(check.name);
      const passed = value <= check.threshold;
      
      results.push({
        check: check.name,
        value,
        threshold: check.threshold,
        passed
      });
      
      if (!passed) {
        return {
          isHealthy: false,
          failureReason: `${check.name} è¶…è¿‡é˜ˆå€¼: ${value}${check.unit} > ${check.threshold}${check.unit}`
        };
      }
    }
    
    return { isHealthy: true, results };
  }
  
  async executeRollback(deploymentId: string, reason: string) {
    console.log(`æ‰§è¡Œå›æ»š: ${reason}`);
    
    // 1. åˆ‡æ¢åˆ°ä¹‹å‰çš„ç‰ˆæœ¬
    await this.switchToRollbackVersion();
    
    // 2. æ¢å¤æ•°æ®åº“
    await this.rollbackDatabase();
    
    // 3. æ¸…ç†ç¼“å­˜
    await this.clearCache();
    
    // 4. é€šçŸ¥å›¢é˜Ÿ
    await this.notifyTeam(deploymentId, reason);
    
    // 5. ç”Ÿæˆå›æ»šæŠ¥å‘Š
    await this.generateRollbackReport(deploymentId, reason);
  }
  
  async switchToRollbackVersion() {
    // Kubernetes å›æ»š
    await exec('kubectl rollout undo deployment/zodiac-match');
    
    // Docker å›æ»š
    await exec('docker tag current-prod:rollback current-prod:latest');
    await exec('docker-compose up -d --force-recreate');
  }
  
  async rollbackDatabase() {
    // æ‰§è¡Œæ•°æ®åº“å›æ»šè„šæœ¬
    await exec('prisma migrate rollback');
  }
}

// ä½¿ç”¨è‡ªåŠ¨å›æ»š
const rollback = new AutoRollbackSystem();
await rollback.monitorDeployment('deploy-' + Date.now());
```

#### 9.3 ç°åº¦å‘å¸ƒï¼ˆå¤šé˜¶æ®µï¼‰
```yaml
# k8s ç°åº¦é…ç½® - å¤šé˜¶æ®µå‘å¸ƒ
apiVersion: v1
kind: Service
metadata:
  name: zodiac-match-canary
spec:
  selector:
    app: zodiac-match
    version: v1.0.0
  stages:
    - name: "é˜¶æ®µ1-å†…éƒ¨æµ‹è¯•"
      percent: 1
      duration: "30m"
      userGroups: ["internal-testers"]
      rollbackThreshold:
        errorRate: 0.5
    - name: "é˜¶æ®µ2-å°èŒƒå›´"
      percent: 5
      duration: "2h"
      userGroups: ["beta-users"]
      rollbackThreshold:
        errorRate: 1.0
    - name: "é˜¶æ®µ3-æ‰©å¤§èŒƒå›´"
      percent: 20
      duration: "4h"
      rollbackThreshold:
        errorRate: 2.0
    - name: "é˜¶æ®µ4-åŠæ•°å‘å¸ƒ"
      percent: 50
      duration: "8h"
      rollbackThreshold:
        errorRate: 3.0
    - name: "é˜¶æ®µ5-å…¨é‡å‘å¸ƒ"
      percent: 100
      rollbackThreshold:
        errorRate: 5.0
```

#### 9.3 ç›‘æ§å’Œè§‚å¯Ÿ
```text
ç›‘æ§æŒ‡æ ‡:
- é”™è¯¯ç‡: 0.01%
- å¹³å‡å“åº”æ—¶é—´: 125ms
- ç”¨æˆ·åé¦ˆ: ç§¯æ
- ç§¯åˆ†æ¶ˆè€—: æ­£å¸¸

å†³ç­–: æ‰©å¤§ç°åº¦èŒƒå›´ â†’ 50% â†’ 100%
```

#### 9.4 å…¨é‡ä¸Šçº¿
```bash
# å…¨é‡å‘å¸ƒ
kubectl set image deployment/zodiac-match \
  zodiac-match=zodiac-match:v1.0.0

âœ“ éƒ¨ç½²æˆåŠŸ
âœ“ å¥åº·æ£€æŸ¥é€šè¿‡
âœ“ åŠŸèƒ½éªŒè¯é€šè¿‡
```

### é˜¶æ®µ10ï¼šé¡¹ç›®æ€»ç»“

#### 10.1 é¡¹ç›®å›é¡¾
```text
ç”¨æˆ·: åˆ›å»ºä¸€ä¸ª OpenSpec change proposal ç”¨äº [éœ€æ±‚æè¿°]
æˆ–è€…ä½¿ç”¨æ–œæ å‘½ä»¤: /openspec:proposal [éœ€æ±‚æè¿°]

AI å°†åˆ›å»º:
openspec/
â”œâ”€â”€ changes/
â”‚   â””â”€â”€ feature-name/
â”‚       â”œâ”€â”€ proposal.md      # ä¸ºä»€ä¹ˆå’Œåšä»€ä¹ˆ
â”‚       â”œâ”€â”€ tasks.md          # å®æ–½æ¸…å•
â”‚       â”œâ”€â”€ design.md         # æŠ€æœ¯å†³ç­–ï¼ˆå¯é€‰ï¼‰
â”‚       â””â”€â”€ specs/
â”‚           â””â”€â”€ module/
â”‚               â””â”€â”€ spec.md   # è§„èŒƒå˜æ›´
```

#### 1.2 Proposal æ¨¡æ¿
```markdown
# Proposal: [åŠŸèƒ½åç§°]

## ç›®çš„
[ç®€è¦è¯´æ˜ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªå˜æ›´]

## èƒŒæ™¯
[å½“å‰çŠ¶æ€å’Œé—®é¢˜æè¿°]

## æè®®çš„å˜æ›´
- [å˜æ›´ç‚¹1]
- [å˜æ›´ç‚¹2]

## å½±å“èŒƒå›´
- å‰ç«¯: [å½±å“è¯´æ˜]
- åç«¯: [å½±å“è¯´æ˜]
- æ•°æ®åº“: [å½±å“è¯´æ˜]

## éªŒæ”¶æ ‡å‡†
- [ ] æ ‡å‡†1
- [ ] æ ‡å‡†2

## é£é™©è¯„ä¼°
- é£é™©1: [æè¿°å’Œç¼“è§£æªæ–½]
- é£é™©2: [æè¿°å’Œç¼“è§£æªæ–½]
```

### é˜¶æ®µ2ï¼šTaskMaster AI ä»»åŠ¡åˆ†è§£

#### 2.1 åˆ›å»ºä»»åŠ¡
```bash
# ä» OpenSpec åˆ›å»ºä»»åŠ¡
task-master add-task \
  --prompt="å®ç° openspec/changes/[feature-name]/ ä¸­å®šä¹‰çš„åŠŸèƒ½" \
  --research \
  --priority="P1"

# æŸ¥çœ‹ä»»åŠ¡
task-master list --status=pending

# è·å–ä¸‹ä¸€ä¸ªä»»åŠ¡
task-master next
```

#### 2.2 MCP å·¥å…·è°ƒç”¨
```typescript
// åœ¨ Warp Code ä¸­ä½¿ç”¨ MCP
await call_mcp_tool("add_task", {
  projectRoot: "D:\\test\\mksaas_qiflowai",
  prompt: "å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½",
  research: true,
  priority: "P1"
});

// å±•å¼€ä»»åŠ¡
await call_mcp_tool("expand_task", {
  id: "TASK-001",
  projectRoot: "D:\\test\\mksaas_qiflowai",
  research: true,
  num: "5"
});

// æ›´æ–°çŠ¶æ€
await call_mcp_tool("set_task_status", {
  id: "TASK-001",
  status: "in-progress",
  projectRoot: "D:\\test\\mksaas_qiflowai"
});
```

### é˜¶æ®µ3ï¼šAgent ååŒæ‰§è¡Œ

#### 3.1 Agent è°ƒç”¨ç­–ç•¥

```yaml
# Agent åˆ†é…çŸ©é˜µ
fullstack-developer:
  é€‚ç”¨: å®Œæ•´åŠŸèƒ½å¼€å‘
  å·¥å…·: [Read, Write, Docker, database, postgresql]
  
frontend-developer:
  é€‚ç”¨: UI ç»„ä»¶å’Œé¡µé¢å¼€å‘
  å·¥å…·: [Read, Write, react, typescript]
  
backend-developer:
  é€‚ç”¨: API å’ŒæœåŠ¡ç«¯é€»è¾‘
  å·¥å…·: [Read, Write, database, redis]
  
ai-engineer:
  é€‚ç”¨: AI åŠŸèƒ½é›†æˆ
  å·¥å…·: [python, tensorflow, pytorch, huggingface]
  
qa-expert:
  é€‚ç”¨: æµ‹è¯•å’Œè´¨é‡ä¿è¯
  å·¥å…·: [Read, Write, playwright, jest]
  
security-engineer:
  é€‚ç”¨: å®‰å…¨å®¡æŸ¥
  å·¥å…·: [Read, grep, security-scan]
```

#### 3.2 Agent ååŒç¤ºä¾‹
```text
ç”¨æˆ·: è¯·è°ƒç”¨ fullstack-developer agent å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½

AI: æˆ‘å°†è°ƒç”¨ fullstack-developer agent æ¥å®ç°è¿™ä¸ªåŠŸèƒ½
    [Agent å¼€å§‹å·¥ä½œ]
    1. æŸ¥è¯¢ä¸Šä¸‹æ–‡ç®¡ç†å™¨äº†è§£æ¶æ„
    2. åˆ†æä»æ•°æ®åº“åˆ° UI çš„æ•°æ®æµ
    3. å®¡æŸ¥è®¤è¯å’Œæˆæƒ
    4. è®¾è®¡ä¸€è‡´çš„è§£å†³æ–¹æ¡ˆ
    5. å®ç°åŠŸèƒ½
    6. ç¼–å†™æµ‹è¯•
```

#### 10.2 ç»éªŒæ€»ç»“
```markdown
# é¡¹ç›®æ€»ç»“ï¼šç”Ÿè‚–é…å¯¹åŠŸèƒ½

## æˆåŠŸå› ç´ 
1. éœ€æ±‚åˆ†æå……åˆ†ï¼Œå¤šè½®è¯„å®¡ç¡®ä¿ç†è§£å‡†ç¡®
2. æŠ€æœ¯æ–¹æ¡ˆè¯¦å°½ï¼Œæå‰è¯†åˆ«æŠ€æœ¯é£é™©
3. Agent ååŒé«˜æ•ˆï¼Œä¸“ä¸šåˆ†å·¥æ˜ç¡®
4. æµ‹è¯•è¦†ç›–å…¨é¢ï¼Œè´¨é‡æœ‰ä¿éšœ
5. éƒ¨ç½²ç­–ç•¥ç¨³å¥ï¼Œç°åº¦å‘å¸ƒé™ä½é£é™©

## æ”¹è¿›ç‚¹
1. ç®—æ³•å¤æ‚åº¦å¯è¿›ä¸€æ­¥ä¼˜åŒ–
2. ç¼“å­˜ç­–ç•¥å¯æ›´ç²¾ç»†åŒ–
3. å‰ç«¯åŠ¨ç”»å¯æ›´æµç•…
4. æ–‡æ¡£å¯æ·»åŠ æ›´å¤šç¤ºä¾‹

## å…³é”®æŒ‡æ ‡
- å¼€å‘å‘¨æœŸ: 10 å¤© (ç›®æ ‡ 14 å¤©) âœ“
- ä»£ç è´¨é‡: 87% è¦†ç›–ç‡ âœ“
- æ€§èƒ½æŒ‡æ ‡: å…¨éƒ¨è¾¾æ ‡ âœ“
- ç”¨æˆ·æ»¡æ„åº¦: 4.6/5.0 âœ“
- Bug ç‡: 0.5% (ä½äºç›®æ ‡) âœ“

## å›¢é˜Ÿè´¡çŒ®
- éœ€æ±‚åˆ†æ: product-analyst Agent
- æ¶æ„è®¾è®¡: architect-reviewer Agent
- åç«¯å¼€å‘: backend-developer Agent
- å‰ç«¯å¼€å‘: frontend-developer Agent
- æµ‹è¯•ä¿éšœ: qa-expert Agent
- éƒ¨ç½²è¿ç»´: devops-engineer Agent

## çŸ¥è¯†æ²‰æ·€
1. ç”Ÿè‚–ç®—æ³•åº“å·²å°è£…ï¼Œå¯å¤ç”¨
2. é…å¯¹ç®—æ³•æ¨¡å‹å·²éªŒè¯ï¼Œå¯æ‰©å±•
3. åˆ†äº«ç»„ä»¶å·²é€šç”¨åŒ–ï¼Œå¯å¤ç”¨
4. æµ‹è¯•ç”¨ä¾‹é›†å·²å®Œå–„ï¼Œå¯å›å½’
```

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµæ€»ç»“

### å·¥ä½œæµé˜¶æ®µæ¦‚è§ˆï¼ˆå¢å¼ºç‰ˆï¼‰

| é˜¶æ®µ | åç§° | ä¸»è¦äº§å‡º | å‚ä¸è€… | å·¥å…· | å¯å¹¶è¡Œ | å¯è·³è¿‡æ¡ä»¶ |
|------|------|----------|---------|------|--------|------------|
| 0 | éœ€æ±‚ç†è§£ | åˆæ­¥åˆ†æ | ç”¨æˆ· + AI | è‡ªç„¶è¯­è¨€ | âŒ | âŒ |
| 1 | éœ€æ±‚æ–‡æ¡£ | PRD | product-analyst | Markdown | âŒ | çƒ­ä¿®å¤æ¨¡å¼ |
| 2 | æŠ€æœ¯æ–¹æ¡ˆ | Tech Spec | architect + fullstack | è®¾è®¡å·¥å…· | UIè®¾è®¡ | å°å‹ä¿®å¤ |
| 3 | OpenSpec | Proposal | AI | OpenSpec CLI | ç¯å¢ƒå‡†å¤‡ | ç´§æ€¥ä¿®å¤ |
| 4 | ä»»åŠ¡åˆ†è§£ | ä»»åŠ¡æ ‘ | TaskMaster | task-master CLI | èµ„æºå‡†å¤‡ | å•ä¸€ä»»åŠ¡ |
| 5 | Agent æ‰§è¡Œ | ä»£ç å®ç° | å¤š Agent | MCP å·¥å…· | å‰/åç«¯ | âŒ |
| 6 | ä»£ç å®¡æŸ¥ | æ”¹è¿›ä»£ç  | code-reviewer | å®¡æŸ¥å·¥å…· | æ–‡æ¡£ç¼–å†™ | âŒ |
| 7 | æµ‹è¯•éªŒè¯ | æµ‹è¯•æŠ¥å‘Š | qa-expert | æµ‹è¯•æ¡†æ¶ | æ€§èƒ½/å®‰å…¨ | âŒ |
| 8 | æœ€ç»ˆè¯„å®¡ | æ‰¹å‡†ä¸Šçº¿ | å…¨ä½“ | ä¼šè®® | âŒ | çƒ­ä¿®å¤ |
| 9 | éƒ¨ç½²ä¸Šçº¿ | ç”Ÿäº§ç¯å¢ƒ | devops | K8s/Docker | ç›‘æ§é…ç½® | âŒ |
| 10 | é¡¹ç›®æ€»ç»“ | ç»éªŒæ–‡æ¡£ | å…¨ä½“ | æ–‡æ¡£ | âœ… | å°å‹ä»»åŠ¡ |

### å…³é”®æˆåŠŸè¦ç´ ï¼ˆä¼˜åŒ–ç‰ˆï¼‰

1. **å¤šè½®è¯„å®¡æœºåˆ¶**
   - éœ€æ±‚è¯„å®¡ â†’ æŠ€æœ¯è¯„å®¡ â†’ ä»»åŠ¡è¯„å®¡ â†’ ä»£ç è¯„å®¡ â†’ æœ€ç»ˆè¯„å®¡
   - æ¯ä¸ªç¯èŠ‚éƒ½æœ‰æ˜ç¡®çš„æ£€æŸ¥ç‚¹å’Œé€šè¿‡æ ‡å‡†
   - æ”¯æŒå¿«é€Ÿè¯„å®¡é€šé“ï¼ˆç´§æ€¥æƒ…å†µï¼‰

2. **Agent ä¸“ä¸šåˆ†å·¥ï¼ˆç»†åŒ–é…ç½®ï¼‰**
   - æ¯ä¸ª Agent è´Ÿè´£å…¶ä¸“ä¸šé¢†åŸŸ
   - Agent é—´å¯ä»¥åä½œå’Œé€šä¿¡
   - å……åˆ†å‘æŒ¥å„ Agent çš„ä¸“é•¿
   - é¢†åŸŸä¸“å®¶ Agent æ·±åº¦å‚ä¸
   - åŠ¨æ€ Agent åˆ†é…æœºåˆ¶

3. **å·¥å…·é“¾æ•´åˆ**
   - OpenSpec ç®¡ç†è§„èŒƒ
   - TaskMaster ç®¡ç†ä»»åŠ¡
   - MCP è°ƒç”¨ Agent
   - å„ç§ CLI å·¥å…·æ”¯æŒ
   - è‡ªåŠ¨åŒ–å·¥å…·é›†æˆ

4. **è´¨é‡ä¿éšœä½“ç³»**
   - è‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆåˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼‰
   - ä»£ç å®¡æŸ¥ï¼ˆAI + äººå·¥ï¼‰
   - æ€§èƒ½ç›‘æ§ï¼ˆå®æ—¶ + å†å²ï¼‰
   - ç”¨æˆ·éªŒæ”¶ï¼ˆåˆ†é˜¶æ®µéªŒæ”¶ï¼‰

5. **é£é™©æ§åˆ¶ï¼ˆå¢å¼ºç‰ˆï¼‰**
   - å¤šé˜¶æ®µç°åº¦å‘å¸ƒ
   - è‡ªåŠ¨å›æ»šæœºåˆ¶
   - å®æ—¶ç›‘æ§å‘Šè­¦
   - åº”æ€¥é¢„æ¡ˆè‡ªåŠ¨è§¦å‘
   - æ•…éšœéš”ç¦»æœºåˆ¶

6. **åé¦ˆå¾ªç¯ç³»ç»Ÿ**
   - å®æ—¶è¿›åº¦ç›‘æ§
   - å¼‚å¸¸è‡ªåŠ¨æ£€æµ‹
   - ä¼˜å…ˆçº§åŠ¨æ€è°ƒæ•´
   - èµ„æºæ™ºèƒ½è°ƒé…
   - å­¦ä¹ æ”¹è¿›æœºåˆ¶
```text
ç”¨æˆ·: å®æ–½ openspec/changes/add-authentication/ ä¸­çš„ä»»åŠ¡
æˆ–è€…: /openspec:apply add-authentication

AI: æˆ‘å°†æŒ‰ç…§ä»»åŠ¡æ¸…å•å®æ–½ï¼š
    âœ“ Task 1.1: åˆ›å»ºç”¨æˆ·è¡¨
    âœ“ Task 1.2: å®ç°è®¤è¯ API
    âœ“ Task 2.1: åˆ›å»ºç™»å½•ç»„ä»¶
    âœ“ Task 2.2: å®ç°è·¯ç”±ä¿æŠ¤
```

#### 4.2 ä»£ç è´¨é‡æ ‡å‡†
```typescript
// éµå¾ªé¡¹ç›®è§„èŒƒ
type ComponentProps = {
  // ä½¿ç”¨ type è€Œé interface
  userId: string;
  onUpdate?: (user: User) => void;
};

// ç»„ä»¶ä½¿ç”¨ç®­å¤´å‡½æ•°
const MyComponent = ({ userId }: ComponentProps) => {
  return <div>...</div>;
};

// çº¯å‡½æ•°ä½¿ç”¨ function å…³é”®å­—
function calculateScore(data: Data[]): number {
  return data.reduce((sum, item) => sum + item.value, 0);
}

// ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡è”åˆç±»å‹
type Status = 'pending' | 'done' | 'in-progress';
```

### é˜¶æ®µ5ï¼šæµ‹è¯•éªŒè¯

#### 5.1 æµ‹è¯•ç­–ç•¥
```bash
# è¿è¡Œç±»å‹æ£€æŸ¥
npm run type-check

# è¿è¡Œå•å…ƒæµ‹è¯•
npm run test:unit

# è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration

# è¿è¡Œ E2E æµ‹è¯•
npm run test:e2e

# æ£€æŸ¥æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

#### 5.2 éªŒè¯ OpenSpec è§„èŒƒ
```bash
# éªŒè¯è§„èŒƒæ ¼å¼
openspec validate add-authentication

# æ£€æŸ¥ä»»åŠ¡å®ŒæˆçŠ¶æ€
openspec show add-authentication
```

### é˜¶æ®µ6ï¼šå½’æ¡£å’Œéƒ¨ç½²

#### 6.1 å½’æ¡£ OpenSpec å˜æ›´
```text
ç”¨æˆ·: å½’æ¡£å·²å®Œæˆçš„å˜æ›´
æˆ–è€…: /openspec:archive add-authentication

AI: æ‰§è¡Œå½’æ¡£ï¼š
    openspec archive add-authentication --yes
    âœ“ å˜æ›´å·²å½’æ¡£
    âœ“ è§„èŒƒå·²æ›´æ–°åˆ° openspec/specs/
    âœ“ å‡†å¤‡ä¸‹ä¸€ä¸ªåŠŸèƒ½
```

#### 6.2 éƒ¨ç½²å‡†å¤‡
```bash
# æ„å»ºé¡¹ç›®
npm run build

# Docker æ„å»º
docker build -t mksaas-qiflowai .

# è¿è¡Œéƒ¨ç½²å‰æ£€æŸ¥
npm run deploy:check

# æ‰§è¡Œéƒ¨ç½²
npm run deploy:production
```

---

## ğŸ¯ å…·ä½“åœºæ™¯ç¤ºä¾‹

### åœºæ™¯1ï¼šä½¿ç”¨ QiFlow CLI å¿«é€Ÿå¼€å‘ ğŸ†•
```bash
# ä¸€æ¡å‘½ä»¤å¯åŠ¨å®Œæ•´æµç¨‹
$ qiflow start "æ·»åŠ ç”Ÿè‚–é…å¯¹åŠŸèƒ½"

ğŸ” æ£€ç´¢çŸ¥è¯†åº“...
  æ‰¾åˆ° 3 ä¸ªç›¸ä¼¼æ¡ˆä¾‹
  å‘ç° 5 ä¸ªå¯å¤ç”¨ç»„ä»¶
  
ğŸ“Š ç½®ä¿¡åº¦è¯„åˆ†: 92%
  â†’ é‡‡ç”¨å¿«é€Ÿé€šé“
  
ğŸ“ åˆ›å»º OpenSpec Proposal...
  âœ“ proposal.md
  âœ“ tasks.md
  âœ“ design.md
  
ğŸŒ åˆ›å»ºé¢„è§ˆç¯å¢ƒ...
  URL: https://preview-zodiac-match.qiflowai.dev
  
ğŸ“‹ ä»»åŠ¡åˆ†è§£...
  ç”Ÿæˆ 15 ä¸ªå­ä»»åŠ¡
  é¢„è®¡å·¥æ—¶: 40h
  
âœ¨ å‡†å¤‡å°±ç»ªï¼
  ä¸‹ä¸€æ­¥: qiflow code next
```

### åœºæ™¯2ï¼šé«˜ç½®ä¿¡åº¦è‡ªåŠ¨å®¡æ‰¹ ğŸ†•
```text
åœºæ™¯: æ·»åŠ ç®€å•çš„å·¥å…·å‡½æ•°

AI: åˆ†æéœ€æ±‚...
ç½®ä¿¡åº¦: 98% (ç®€å•ã€æœ‰å…ˆä¾‹ã€ä½é£é™©)

å†³ç­–: ğŸš€ è‡ªåŠ¨æ‰¹å‡†
- PRD è‡ªåŠ¨ç”Ÿæˆå¹¶æ‰¹å‡†
- æŠ€æœ¯æ–¹æ¡ˆè‡ªåŠ¨ç¡®è®¤
- ä»£ç å®ç°åè‡ªåŠ¨åˆå¹¶
- ä»…å‘é€é€šçŸ¥ä¾›äº‹åå®¡è®¡

è€—æ—¶: 5åˆ†é’Ÿ vs ä¼ ç»Ÿ2å°æ—¶
```

### åœºæ™¯3ï¼šæ·»åŠ å…«å­—åˆ†ææ–°åŠŸèƒ½

```text
# Step 1: åˆ›å»º OpenSpec Proposal
ç”¨æˆ·: /openspec:proposal æ·»åŠ ç´«å¾®æ–—æ•°åˆ†æåŠŸèƒ½ï¼Œç±»ä¼¼å…«å­—åˆ†æ

AI åˆ›å»º:
openspec/changes/add-ziwei-analysis/
â”œâ”€â”€ proposal.md
â”œâ”€â”€ tasks.md
â””â”€â”€ specs/
    â””â”€â”€ analysis/
        â””â”€â”€ spec.md

# Step 2: TaskMaster ä»»åŠ¡åˆ†è§£
task-master add-task --prompt="å®ç°ç´«å¾®æ–—æ•°åˆ†æåŠŸèƒ½" --research

# Step 3: Agent æ‰§è¡Œ
è°ƒç”¨ fullstack-developer agent å®ç°å®Œæ•´åŠŸèƒ½
è°ƒç”¨ qa-expert agent ç¼–å†™æµ‹è¯•

# Step 4: éªŒè¯å’Œå½’æ¡£
openspec validate add-ziwei-analysis
openspec archive add-ziwei-analysis --yes
```

### åœºæ™¯4ï¼šæ€§èƒ½ä¼˜åŒ–

```text
# Step 1: åˆ†ææ€§èƒ½é—®é¢˜
ç”¨æˆ·: å…«å­—è®¡ç®— API å“åº”å¤ªæ…¢ï¼Œéœ€è¦ä¼˜åŒ–åˆ° 100ms ä»¥å†…

# Step 2: åˆ›å»ºä¼˜åŒ– Proposal
/openspec:proposal ä¼˜åŒ–å…«å­—è®¡ç®— API æ€§èƒ½

# Step 3: TaskMaster åˆ›å»ºä¼˜åŒ–ä»»åŠ¡
task-master add-task --prompt="ä¼˜åŒ–å…«å­—è®¡ç®—æ€§èƒ½" --priority="P0"

# Step 4: è°ƒç”¨ä¸“é—¨çš„ Agent
- performance-engineer agent: æ€§èƒ½åˆ†æ
- backend-developer agent: ç®—æ³•ä¼˜åŒ–
- database-administrator agent: æŸ¥è¯¢ä¼˜åŒ–

# Step 5: å®æ–½ä¼˜åŒ–
- å®ç°ç¼“å­˜ç­–ç•¥
- ä¼˜åŒ–ç®—æ³•
- æ·»åŠ ç´¢å¼•
- ä½¿ç”¨ Worker å¹¶å‘è®¡ç®—
```

### åœºæ™¯5ï¼šå®‰å…¨ä¿®å¤

```text
# Step 1: è¯†åˆ«å®‰å…¨é—®é¢˜
ç”¨æˆ·: å‘ç°äº† XSS æ¼æ´ï¼Œéœ€è¦ç´§æ€¥ä¿®å¤

# Step 2: åˆ›å»ºå®‰å…¨ä¿®å¤ Proposal
/openspec:proposal ä¿®å¤ XSS å®‰å…¨æ¼æ´

# Step 3: TaskMaster ä¼˜å…ˆçº§è®¾ç½®
task-master add-task --prompt="ä¿®å¤ XSS æ¼æ´" --priority="P0"

# Step 4: å®‰å…¨ Agent ååŒ
- security-engineer agent: æ¼æ´åˆ†æ
- fullstack-developer agent: ä¿®å¤å®æ–½
- penetration-tester agent: éªŒè¯ä¿®å¤

# Step 5: éƒ¨ç½²çƒ­ä¿®å¤
npm run deploy:hotfix
```

---

## ğŸ“Š è´¨é‡ä¿è¯æµç¨‹

### ä»£ç å®¡æŸ¥æ¸…å•

```yaml
ä»£ç è´¨é‡:
  - [ ] TypeScript ç±»å‹å®Œæ•´
  - [ ] éµå¾ªå‘½åè§„èŒƒ
  - [ ] é”™è¯¯å¤„ç†å®Œå–„
  - [ ] æ€§èƒ½ä¼˜åŒ–åˆ°ä½

å®‰å…¨æ£€æŸ¥:
  - [ ] è¾“å…¥éªŒè¯
  - [ ] è¾“å‡ºå‡€åŒ–
  - [ ] è®¤è¯æ£€æŸ¥
  - [ ] æˆæƒéªŒè¯

æµ‹è¯•è¦†ç›–:
  - [ ] å•å…ƒæµ‹è¯• > 80%
  - [ ] é›†æˆæµ‹è¯•å®Œæ•´
  - [ ] E2E æµ‹è¯•é€šè¿‡
  - [ ] æ€§èƒ½æµ‹è¯•è¾¾æ ‡

æ–‡æ¡£å®Œæ•´:
  - [ ] API æ–‡æ¡£æ›´æ–°
  - [ ] README æ›´æ–°
  - [ ] CHANGELOG è®°å½•
  - [ ] ä»£ç æ³¨é‡Šå……åˆ†
```

### è‡ªåŠ¨åŒ–éªŒè¯

```bash
#!/bin/bash
# validate.sh

echo "ğŸ” å¼€å§‹éªŒè¯..."

# 1. OpenSpec éªŒè¯
openspec validate $1

# 2. TypeScript æ£€æŸ¥
npm run type-check

# 3. ä»£ç æ ¼å¼
npm run lint:fix

# 4. æµ‹è¯•è¿è¡Œ
npm run test

# 5. æ„å»ºæ£€æŸ¥
npm run build

echo "âœ… éªŒè¯å®Œæˆ"
```

---

## ğŸ”§ é¡¹ç›®ç‰¹å®šé…ç½®

### QiFlow AI é¡¹ç›®ç‰¹æ€§

```typescript
// ç§¯åˆ†ç³»ç»Ÿé…ç½®
export const QIFLOW_PRICING = {
  aiChat: 5,              // AI å¯¹è¯
  bazi: 10,               // å…«å­—åˆ†æ
  baziDetailed: 30,       // è¯¦ç»†åˆ†æ
  xuankong: 20,           // ç„ç©ºé£æ°´
  pdfExport: 5            // PDF å¯¼å‡º
} as const;

// ç½®ä¿¡åº¦é˜ˆå€¼
export const CONFIDENCE_THRESHOLDS = {
  REJECT: 0.4,    // çº¢è‰²ï¼šæ‹’ç­”
  WARNING: 0.7,   // é»„è‰²ï¼šè­¦å‘Š
  NORMAL: 0.7     // ç»¿è‰²ï¼šæ­£å¸¸
} as const;
```

### é™çº§å¤„ç†ç­–ç•¥

```typescript
async function executeWithDegradation(input: Input) {
  try {
    const result = await executeWithAI(input);
    
    if (result.confidence < CONFIDENCE_THRESHOLDS.REJECT) {
      return { status: 'degraded', needManualInput: true };
    }
    
    if (result.confidence < CONFIDENCE_THRESHOLDS.WARNING) {
      return { status: 'warning', result, calibrationNeeded: true };
    }
    
    return { status: 'success', result };
  } catch (error) {
    // é™çº§åˆ°åŸºç¡€ç®—æ³•
    return { status: 'fallback', result: await basicCalculation(input) };
  }
}
```

---

## ğŸ’¡ æœ€ä½³å®è·µï¼ˆå¢å¼ºç‰ˆï¼‰

### 1. éœ€æ±‚æè¿°
- âœ… ä½¿ç”¨æ¸…æ™°ã€å…·ä½“çš„è¯­è¨€
- âœ… åŒ…å«é¢„æœŸç»“æœå’ŒéªŒæ”¶æ ‡å‡†
- âœ… è¯´æ˜ä¼˜å…ˆçº§å’Œæ—¶é—´è¦æ±‚
- âœ… æ ‡æ³¨å¯å¹¶è¡Œçš„éƒ¨åˆ†
- âŒ é¿å…æ¨¡ç³Šä¸æ¸…çš„æè¿°

### 2. OpenSpec ä½¿ç”¨
- âœ… æ¯ä¸ªåŠŸèƒ½åˆ›å»ºç‹¬ç«‹çš„ change æ–‡ä»¶å¤¹
- âœ… ä¿æŒ proposal ç®€æ´æ˜ç¡®
- âœ… tasks.md ä»»åŠ¡ç²’åº¦é€‚ä¸­ï¼ˆ0.5-4å°æ—¶ï¼‰
- âœ… æ˜ç¡®æ ‡æ³¨ä»»åŠ¡ä¾èµ–å…³ç³»
- âŒ ä¸è¦ç›´æ¥ä¿®æ”¹ specs/ ç›®å½•

### 3. TaskMaster ç®¡ç†ï¼ˆç»†ç²’åº¦ï¼‰
- âœ… ä½¿ç”¨ research å‚æ•°è·å–æ›´å¥½çš„ä»»åŠ¡åˆ†è§£
- âœ… è®¾ç½®æ­£ç¡®çš„ä»»åŠ¡ä¾èµ–å…³ç³»
- âœ… åŠæ—¶æ›´æ–°ä»»åŠ¡çŠ¶æ€
- âœ… ä»»åŠ¡æ‹†åˆ†åˆ°å¯ç‹¬ç«‹æµ‹è¯•çš„ç²’åº¦
- âœ… ä¸ºæ¯ä¸ªä»»åŠ¡è®¾ç½®æ˜ç¡®çš„éªŒæ”¶æ ‡å‡†
- âŒ é¿å…åˆ›å»ºè¶…è¿‡4å°æ—¶çš„ä»»åŠ¡

### 4. Agent åä½œï¼ˆä¸“ä¸šåŒ–ï¼‰
- âœ… é€‰æ‹©åˆé€‚çš„ Agent å¤„ç†ç‰¹å®šä»»åŠ¡
- âœ… å…è®¸ Agent é—´åä½œ
- âœ… åˆ©ç”¨ Agent çš„ä¸“ä¸šèƒ½åŠ›
- âœ… ä¸ºå¤æ‚é¢†åŸŸè°ƒç”¨ä¸“å®¶ Agent
- âœ… è®°å½• Agent å†³ç­–è¿‡ç¨‹
- âŒ ä¸è¦è®©å•ä¸ª Agent å¤„ç†æ‰€æœ‰ä»»åŠ¡

### 5. ä»£ç è´¨é‡
- âœ… éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ
- âœ… ç¼–å†™å……åˆ†çš„æµ‹è¯•ï¼ˆè¦†ç›–ç‡>80%ï¼‰
- âœ… è¿›è¡Œä»£ç å®¡æŸ¥
- âœ… æ€§èƒ½æµ‹è¯•å’Œä¼˜åŒ–
- âŒ ä¸è¦è·³è¿‡æµ‹è¯•æ­¥éª¤

### 6. çµæ´»æ€§åŸåˆ™
- âœ… æ ¹æ®ä»»åŠ¡å¤æ‚åº¦é€‰æ‹©æµç¨‹
- âœ… è¯†åˆ«å¯å¹¶è¡Œçš„å·¥ä½œ
- âœ… é€‚æ—¶è°ƒæ•´è®¡åˆ’
- âœ… ä¿æŒæ–‡æ¡£æ›´æ–°
- âŒ ä¸è¦åƒµåŒ–æ‰§è¡Œæµç¨‹

### 7. åé¦ˆä¸æ”¹è¿›
- âœ… è®¾ç½®ç›‘æ§ç‚¹
- âœ… åŠæ—¶å“åº”å¼‚å¸¸
- âœ… è®°å½•ç»éªŒæ•™è®­
- âœ… æŒç»­ä¼˜åŒ–æµç¨‹
- âŒ ä¸è¦å¿½è§†è­¦å‘Šä¿¡å·

---

## ğŸš¦ å¿«é€Ÿå¯åŠ¨

### ä½¿ç”¨ QiFlow CLI (æ¨è) ğŸ†•
```bash
# å®‰è£… QiFlow CLI
npm install -g @mksaas/qiflow-cli

# ä¸€é”®å¯åŠ¨æ–°åŠŸèƒ½
qiflow start "åŠŸèƒ½åç§°"

# ä½¿ç”¨è‡ªç„¶è¯­è¨€
qiflow ai "å¸®æˆ‘å®ç°ç”¨æˆ·ç™»å½•åŠŸèƒ½"

# æŸ¥çœ‹çŠ¶æ€
qiflow status

# ç®¡ç†é¢„è§ˆç¯å¢ƒ
qiflow preview list
qiflow preview open
```

### ä¼ ç»Ÿæ–¹å¼
```bash
# 1. åˆå§‹åŒ–å·¥å…·
openspec init                    # åˆå§‹åŒ– OpenSpec
task-master init                  # åˆå§‹åŒ– TaskMaster
task-master models --setup        # é…ç½® AI æ¨¡å‹

# 2. åˆ›å»ºæ–°åŠŸèƒ½
/openspec:proposal æ·»åŠ æ–°åŠŸèƒ½    # åˆ›å»º proposal
task-master add-task             # åˆ›å»ºä»»åŠ¡
task-master expand --all         # å±•å¼€ä»»åŠ¡

# 3. æ‰§è¡Œå¼€å‘
/openspec:apply feature-name     # å®æ–½åŠŸèƒ½
npm run test                     # è¿è¡Œæµ‹è¯•
openspec validate feature-name   # éªŒè¯è§„èŒƒ

# 4. å®Œæˆå½’æ¡£
/openspec:archive feature-name   # å½’æ¡£å˜æ›´
npm run build                    # æ„å»ºé¡¹ç›®
npm run deploy                   # éƒ¨ç½²ä¸Šçº¿
```

---

## ğŸ“ˆ ç›‘æ§å’Œæ”¹è¿›

### AI ç½®ä¿¡åº¦ä»ªè¡¨æ¿ ğŸ†•
```typescript
// å®æ—¶ç›‘æ§ç½®ä¿¡åº¦å’Œè‡ªåŠ¨å®¡æ‰¹ç‡
interface ConfidenceDashboard {
  autoApprovalRate: number;     // è‡ªåŠ¨æ‰¹å‡†ç‡: 45%
  avgConfidence: number;         // å¹³å‡ç½®ä¿¡åº¦: 82%
  pendingReviews: number;        // å¾…å®¡æ‰¹: 3
  todayStats: {
    autoApproved: 12,
    manualReview: 5,
    rejected: 1
  };
}
```

### çŸ¥è¯†åº“ç»Ÿè®¡ ğŸ†•
```typescript
interface KnowledgeStats {
  totalDocuments: 1543;          // æ–‡æ¡£æ€»æ•°
  reuseRate: 68%;                // çŸ¥è¯†å¤ç”¨ç‡
  searchAccuracy: 91%;           // æœç´¢å‡†ç¡®ç‡
  topReused: [                   // æœ€å¸¸å¤ç”¨
    "è®¤è¯æ¨¡å—",
    "æ”¯ä»˜é›†æˆ",
    "æ•°æ®éªŒè¯"
  ];
}
```

### å¼€å‘æŒ‡æ ‡

```typescript
interface DevelopmentMetrics {
  cycleTime: number;           // ä» proposal åˆ°éƒ¨ç½²çš„æ—¶é—´
  taskCompletionRate: number;  // ä»»åŠ¡å®Œæˆç‡
  codeQualityScore: number;    // ä»£ç è´¨é‡åˆ†æ•°
  testCoverage: number;         // æµ‹è¯•è¦†ç›–ç‡
  bugDensity: number;           // Bug å¯†åº¦
  performanceScore: number;     // æ€§èƒ½åˆ†æ•°
}
```

### æŒç»­æ”¹è¿›

1. **æ¯å‘¨å›é¡¾**
   - åˆ†æå®Œæˆçš„ changes
   - è¯„ä¼° Agent æ•ˆç‡
   - ä¼˜åŒ–å·¥ä½œæµç¨‹

2. **æœˆåº¦ä¼˜åŒ–**
   - æ›´æ–° Agent æç¤ºè¯
   - ä¼˜åŒ– OpenSpec æ¨¡æ¿
   - æ”¹è¿› TaskMaster é…ç½®

3. **å­£åº¦å‡çº§**
   - å‡çº§å·¥å…·ç‰ˆæœ¬
   - æ·»åŠ æ–°çš„ Agent
   - é‡æ„å·¥ä½œæµç¨‹

---

## ğŸ¤ å›¢é˜Ÿåä½œ

### è§’è‰²åˆ†å·¥

| è§’è‰² | èŒè´£ | å·¥å…·ä½¿ç”¨ |
|------|------|----------|
| äº§å“ç»ç† | éœ€æ±‚å®šä¹‰ | OpenSpec proposal |
| æŠ€æœ¯è´Ÿè´£äºº | æ¶æ„è®¾è®¡ | OpenSpec specs |
| å¼€å‘äººå‘˜ | åŠŸèƒ½å®ç° | TaskMaster + Agents |
| QA å·¥ç¨‹å¸ˆ | è´¨é‡ä¿è¯ | Test Agents |
| DevOps | éƒ¨ç½²è¿ç»´ | Infrastructure Agents |

### æ²Ÿé€šæœºåˆ¶

```markdown
## Daily Standup
- æ˜¨å¤©å®Œæˆçš„ tasks
- ä»Šå¤©è®¡åˆ’çš„ tasks
- é‡åˆ°çš„é˜»ç¢

## Sprint Planning
- Review OpenSpec proposals
- åˆ†é… TaskMaster ä»»åŠ¡
- ç¡®å®š Agent åˆ†å·¥

## Sprint Review
- Demo å®Œæˆçš„ features
- Archive OpenSpec changes
- æ”¶é›†åé¦ˆ
```

---

## ğŸ“ é™„å½•

### ç›¸å…³é“¾æ¥
- [OpenSpec å®˜ç½‘](https://openspec.dev)
- [OpenSpec GitHub](https://github.com/Fission-AI/OpenSpec)
- [Task Master AI æ–‡æ¡£](.taskmaster/README.md)
- [Agent ç›®å½•](.claude/agents/)
- [é¡¹ç›® Profile](.warp/profile.md)

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# OpenSpec å‘½ä»¤
openspec init                    # åˆå§‹åŒ–
openspec list                    # æŸ¥çœ‹å˜æ›´
openspec show <change>           # æ˜¾ç¤ºè¯¦æƒ…
openspec validate <change>       # éªŒè¯è§„èŒƒ
openspec archive <change>        # å½’æ¡£å˜æ›´

# TaskMaster å‘½ä»¤
task-master list                 # ä»»åŠ¡åˆ—è¡¨
task-master next                 # ä¸‹ä¸€ä¸ªä»»åŠ¡
task-master show <id>            # ä»»åŠ¡è¯¦æƒ…
task-master set-status <id> <s>  # æ›´æ–°çŠ¶æ€
task-master expand <id>          # å±•å¼€ä»»åŠ¡

# é¡¹ç›®å‘½ä»¤
npm run dev                      # å¼€å‘æœåŠ¡å™¨
npm run build                    # æ„å»ºé¡¹ç›®
npm run test                     # è¿è¡Œæµ‹è¯•
npm run lint:fix                 # ä¿®å¤æ ¼å¼
npm run type-check               # ç±»å‹æ£€æŸ¥
```

### å·¥ä½œæµç¤ºä¾‹å¯¹è¯

```text
ç¤ºä¾‹1ï¼šæ–°åŠŸèƒ½å¼€å‘
æ‚¨: /openspec:proposal æ·»åŠ ç”Ÿè‚–é…å¯¹åŠŸèƒ½
AI: åˆ›å»º OpenSpec proposal...
æ‚¨: çœ‹èµ·æ¥ä¸é”™ï¼Œåˆ›å»ºä»»åŠ¡
AI: è°ƒç”¨ TaskMaster åˆ›å»ºä»»åŠ¡...
æ‚¨: /openspec:apply zodiac-matching
AI: å¼€å§‹å®æ–½åŠŸèƒ½...

ç¤ºä¾‹2ï¼šBug ä¿®å¤
æ‚¨: ç”¨æˆ·æŠ¥å‘Šå…«å­—åˆ†æåœ¨ iPhone ä¸Šæ˜¾ç¤ºå¼‚å¸¸
AI: æˆ‘å°†åˆ›å»ºä¸€ä¸ª bug ä¿®å¤ proposal...
æ‚¨: ä½¿ç”¨ frontend-developer agent ä¿®å¤
AI: è°ƒç”¨ frontend-developer agent...

ç¤ºä¾‹3ï¼šæ€§èƒ½ä¼˜åŒ–
æ‚¨: API å“åº”å¤ªæ…¢ï¼Œéœ€è¦ä¼˜åŒ–
AI: åˆ›å»ºæ€§èƒ½ä¼˜åŒ– proposal...
æ‚¨: è°ƒç”¨ performance-engineer agent åˆ†æ
AI: å¼€å§‹æ€§èƒ½åˆ†æ...
```

---

## ğŸ“š éƒ¨ç½²æ–‡æ¡£ä¸æ“ä½œè§„èŒƒ

### éƒ¨ç½²æ“ä½œæ‰‹å†Œ

```markdown
# éƒ¨ç½²æ“ä½œæ‰‹å†Œ

## å‰ç½®æ¡ä»¶æ£€æŸ¥æ¸…å•
- [ ] ä»£ç å·²é€šè¿‡æ‰€æœ‰æµ‹è¯•
- [ ] æ•°æ®åº“è¿ç§»è„šæœ¬å·²å‡†å¤‡
- [ ] å›æ»šè„šæœ¬å·²éªŒè¯
- [ ] ç›‘æ§å‘Šè­¦å·²é…ç½®
- [ ] è´Ÿè½½å‡è¡¡å™¨å·²å°±ç»ª

## æ ‡å‡†éƒ¨ç½²æµç¨‹

### Step 1: ç¯å¢ƒå‡†å¤‡
```bash
# æ£€æŸ¥ç¯å¢ƒ
./scripts/check-environment.sh

# å¤‡ä»½å½“å‰ç‰ˆæœ¬
./scripts/backup-current.sh
```

### Step 2: æ•°æ®åº“æ“ä½œ
```bash
# æ‰§è¡Œè¿ç§»ï¼ˆå¸¦å›æ»šç‚¹ï¼‰
prisma migrate deploy --create-checkpoint

# éªŒè¯è¿ç§»
./scripts/verify-migration.sh
```

### Step 3: åº”ç”¨éƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
./scripts/build-image.sh

# éƒ¨ç½²åˆ°ç›®æ ‡ç¯å¢ƒ
./scripts/deploy.sh --env=production --strategy=canary
```

### Step 4: å¥åº·æ£€æŸ¥
```bash
# è¿è¡Œå¥åº·æ£€æŸ¥
./scripts/health-check.sh --comprehensive

# ç›‘æ§å…³é”®æŒ‡æ ‡
./scripts/monitor-metrics.sh --duration=10m
```

### Step 5: æµé‡åˆ‡æ¢
```bash
# é€æ­¥åˆ‡æ¢æµé‡
./scripts/traffic-switch.sh --stages=5
```

## ç´§æ€¥å›æ»šæµç¨‹

### è‡ªåŠ¨è§¦å‘æ¡ä»¶
- é”™è¯¯ç‡ > 5%
- å“åº”æ—¶é—´ > 2s
- å†…å­˜ä½¿ç”¨ > 85%
- å¥åº·æ£€æŸ¥å¤±è´¥

### æ‰‹åŠ¨å›æ»šæ­¥éª¤
```bash
# 1. åœæ­¢æ–°ç‰ˆæœ¬æµé‡
./scripts/stop-traffic.sh

# 2. åˆ‡æ¢åˆ°å¤‡ä»½ç‰ˆæœ¬
./scripts/rollback.sh --to=previous

# 3. éªŒè¯å›æ»š
./scripts/verify-rollback.sh

# 4. ç”Ÿæˆäº‹æ•…æŠ¥å‘Š
./scripts/incident-report.sh
```

## ç›‘æ§ä¸å‘Šè­¦

### å…³é”®æŒ‡æ ‡
- API å“åº”æ—¶é—´ (P50, P95, P99)
- é”™è¯¯ç‡
- ååé‡
- èµ„æºä½¿ç”¨ç‡
- ä¸šåŠ¡æŒ‡æ ‡

### å‘Šè­¦çº§åˆ«
- P0: ç«‹å³å¤„ç†ï¼ˆå½±å“æ ¸å¿ƒåŠŸèƒ½ï¼‰
- P1: ç´§æ€¥ï¼ˆ30åˆ†é’Ÿå†…å“åº”ï¼‰
- P2: é‡è¦ï¼ˆ2å°æ—¶å†…å“åº”ï¼‰
- P3: ä¸€èˆ¬ï¼ˆ24å°æ—¶å†…å“åº”ï¼‰

## æ•…éšœå¤„ç†

### æ•…éšœåˆ†çº§
1. **ä¸¥é‡æ•…éšœ**: æœåŠ¡å®Œå…¨ä¸å¯ç”¨
   - ç«‹å³å¯åŠ¨åº”æ€¥é¢„æ¡ˆ
   - é€šçŸ¥æ‰€æœ‰ç›¸å…³äººå‘˜
   - 15åˆ†é’Ÿå†…æ¢å¤æœåŠ¡

2. **é‡å¤§æ•…éšœ**: æ ¸å¿ƒåŠŸèƒ½å—å½±å“
   - å¯åŠ¨é™çº§ç­–ç•¥
   - é€šçŸ¥æŠ€æœ¯è´Ÿè´£äºº
   - 30åˆ†é’Ÿå†…æ¢å¤

3. **ä¸€èˆ¬æ•…éšœ**: éæ ¸å¿ƒåŠŸèƒ½å¼‚å¸¸
   - è®°å½•é—®é¢˜
   - è®¡åˆ’ä¿®å¤
   - ä¸‹ä¸ªç‰ˆæœ¬è§£å†³

## å›¢é˜Ÿè”ç³»æ–¹å¼

| è§’è‰² | å§“å | è”ç³»æ–¹å¼ | èŒè´£ |
|------|------|----------|------|
| æŠ€æœ¯è´Ÿè´£äºº | - | - | æ€»ä½“å†³ç­– |
| è¿ç»´è´Ÿè´£äºº | - | - | éƒ¨ç½²æ‰§è¡Œ |
| å¼€å‘è´Ÿè´£äºº | - | - | ä»£ç é—®é¢˜ |
| QAè´Ÿè´£äºº | - | - | è´¨é‡éªŒè¯ |
```

### æ–°æˆå‘˜å…¥èŒæŒ‡å—

```markdown
# æ–°æˆå‘˜å…¥èŒæŒ‡å—

## Day 1: ç¯å¢ƒæ­å»º
1. å®‰è£…å¼€å‘å·¥å…·
   - VS Code / Cursor / Windsurf
   - Node.js (v18+)
   - Docker Desktop
   - Git

2. å…‹éš†é¡¹ç›®
   ```bash
   git clone [repo-url]
   cd mksaas_qiflowai
   npm install
   ```

3. é…ç½®å·¥å…·
   ```bash
   # OpenSpec
   openspec init
   
   # TaskMaster
   task-master init
   task-master models --setup
   ```

## Day 2-3: ç†Ÿæ‚‰æµç¨‹
1. é˜…è¯»å·¥ä½œæµæ–‡æ¡£
2. äº†è§£ Agent ç³»ç»Ÿ
3. å­¦ä¹  OpenSpec è§„èŒƒ
4. æŒæ¡ TaskMaster ä½¿ç”¨

## Day 4-5: å®è·µä»»åŠ¡
1. å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å¼€å‘
2. å‚ä¸ä»£ç è¯„å®¡
3. ç¼–å†™æµ‹è¯•ç”¨ä¾‹
4. ä½“éªŒéƒ¨ç½²æµç¨‹

## å­¦ä¹ èµ„æº
- [å·¥ä½œæµæ–‡æ¡£](./UNIVERSAL_PROGRAMMING_WORKFLOW.md)
- [Agent æŒ‡å—](./.claude/agents/README.md)
- [OpenSpec æ–‡æ¡£](https://openspec.dev)
- [é¡¹ç›® Wiki](./docs/wiki/)
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v4.0.0  
**æœ€åæ›´æ–°**: 2025-01-13  
**ç»´æŠ¤è€…**: MKSaaS QiFlow AI Team

---

## ğŸŒŸ v4.0 å¢å¼ºåŠŸèƒ½è¯¦è§£

### 1. ğŸ”§ QiFlow CLI - ç»Ÿä¸€å·¥ä½œæµå…¥å£

#### æ ¸å¿ƒä»·å€¼
**é—®é¢˜**: ä¹‹å‰éœ€è¦ä¾æ¬¡è°ƒç”¨ `openspec`ã€`task-master` ç­‰å¤šä¸ªå‘½ä»¤ï¼Œè®°å¿†è´Ÿæ‹…å¤§ï¼Œå®¹æ˜“å‡ºé”™ã€‚

**è§£å†³æ–¹æ¡ˆ**: ç»Ÿä¸€çš„ CLI å·¥å…·ï¼Œä¸€æ¡å‘½ä»¤å®Œæˆæ‰€æœ‰åˆå§‹åŒ–ã€‚

#### ä¸»è¦å‘½ä»¤
```bash
# æ ¸å¿ƒå‘½ä»¤
qiflow start "åŠŸèƒ½åç§°"        # å¯åŠ¨æ–°åŠŸèƒ½ï¼ˆè‡ªåŠ¨è°ƒç”¨æ‰€æœ‰å·¥å…·ï¼‰
qiflow ai "è‡ªç„¶è¯­è¨€æè¿°"      # AIç†è§£æ„å›¾å¹¶æ‰§è¡Œ
qiflow status                  # æŸ¥çœ‹å½“å‰çŠ¶æ€
qiflow preview <action>        # ç®¡ç†é¢„è§ˆç¯å¢ƒ

# å¿«æ·åˆ«å
qf start "åŠŸèƒ½"               # ç®€å†™
npm run feature "åŠŸèƒ½"        # package.json é›†æˆ
```

#### è‡ªç„¶è¯­è¨€æ”¯æŒ
```bash
# è¿™äº›éƒ½å¯ä»¥å·¥ä½œ
qiflow ai "å¸®æˆ‘ä¿®å¤ç™»å½•é¡µé¢çš„Bug"
qiflow ai "ä¼˜åŒ–å…«å­—è®¡ç®—çš„æ€§èƒ½"
qiflow ai "æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"
```

#### VS Code é›†æˆ
åœ¨ `.vscode/tasks.json` ä¸­é…ç½®åï¼Œå¯ä»¥é€šè¿‡ VS Code å‘½ä»¤é¢æ¿ç›´æ¥è°ƒç”¨ã€‚

#### æ”¶ç›Š
- ğŸ“‰ å­¦ä¹ æˆæœ¬é™ä½ 70%
- âš¡ å¯åŠ¨é€Ÿåº¦æå‡ 10x
- ğŸ¯ æ“ä½œé”™è¯¯å‡å°‘ 90%

---

### 2. ğŸŒ è‡ªåŠ¨åŒ–é¢„è§ˆç¯å¢ƒ

#### æ ¸å¿ƒä»·å€¼
**é—®é¢˜**: 
- å…±äº« staging ç¯å¢ƒå®¹æ˜“å†²çª
- åé¦ˆå‘¨æœŸé•¿ï¼ˆéœ€è¦ç­‰å¾…éƒ¨ç½²ï¼‰
- æ— æ³•å¹¶è¡Œæµ‹è¯•å¤šä¸ªåŠŸèƒ½

**è§£å†³æ–¹æ¡ˆ**: æ¯ä¸ª PR/Proposal è‡ªåŠ¨åˆ›å»ºéš”ç¦»çš„é¢„è§ˆç¯å¢ƒã€‚

#### æŠ€æœ¯æ–¹æ¡ˆ
```yaml
å‰ç«¯:
  provider: Vercel Preview
  ç‰¹ç‚¹: è‡ªåŠ¨éƒ¨ç½²ï¼Œç§’çº§å¯ç”¨
  
åç«¯:
  provider: Kubernetes Namespace
  ç‰¹ç‚¹: å®Œå…¨éš”ç¦»ï¼Œç‹¬ç«‹æ•°æ®åº“
  
ç”Ÿå‘½å‘¨æœŸ:
  åˆ›å»º: PR æ‰“å¼€æ—¶
  æ›´æ–°: ä»£ç æ¨é€æ—¶
  æ¸…ç†: 
    - PR åˆå¹¶å 24 å°æ—¶
    - æˆ–è¶…è¿‡ 7 å¤©æœªè®¿é—®
```

#### è‡ªåŠ¨åŒ–æµç¨‹
```mermaid
graph LR
    A[PR Created] --> B[Create Preview Env]
    B --> C[Deploy App]
    C --> D[Run Tests]
    D --> E[Comment PR]
    F[Code Push] --> C
    G[PR Merged] --> H[Schedule Cleanup]
```

#### ä½¿ç”¨ä½“éªŒ
```bash
# åˆ›å»º
qiflow preview create

# è®¿é—®
qiflow preview open  # è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨

# åˆ—è¡¨
qiflow preview list
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name             â”‚ URL                                        â”‚ Status â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ zodiac-match     â”‚ https://preview-zodiac-match.qiflowai.dev  â”‚ Ready  â”‚
â”‚ user-auth        â”‚ https://preview-user-auth.qiflowai.dev     â”‚ Ready  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ”¶ç›Š
- âš¡ åé¦ˆå‘¨æœŸ: 2å¤© â†’ 4å°æ—¶
- ğŸš€ å¹¶è¡Œå¼€å‘: æ— é™åˆ¶
- ğŸ‘¥ è¯„å®¡æ•ˆç‡: æå‡ 5x

---

### 3. ğŸ§  çŸ¥è¯†åº“ä¸å‘é‡ç´¢å¼•

#### æ ¸å¿ƒä»·å€¼
**é—®é¢˜**: 
- æ¯æ¬¡éƒ½ä»é›¶å¼€å§‹è®¾è®¡
- å†å²ç»éªŒæ— æ³•å¤ç”¨
- é‡å¤è¸©å‘

**è§£å†³æ–¹æ¡ˆ**: å°†æ‰€æœ‰é¡¹ç›®äº§ç‰©ç´¢å¼•åˆ°å‘é‡æ•°æ®åº“ï¼Œå®ç°æ™ºèƒ½æ£€ç´¢ã€‚

#### ç´¢å¼•å†…å®¹
```yaml
æ–‡æ¡£ç±»å‹:
  - PRD (äº§å“éœ€æ±‚æ–‡æ¡£)
  - Tech Spec (æŠ€æœ¯æ–¹æ¡ˆ)
  - Code (ä»£ç ç‰‡æ®µ)
  - Test Cases (æµ‹è¯•ç”¨ä¾‹)
  - Incident Reports (äº‹æ•…æŠ¥å‘Š)
  - Project Summaries (é¡¹ç›®æ€»ç»“)
  
å…ƒæ•°æ®:
  - æ ‡ç­¾
  - ä½œè€…
  - æ—¶é—´æˆ³
  - æˆåŠŸæŒ‡æ ‡
  - å¤æ‚åº¦è¯„åˆ†
```

#### å·¥ä½œæµç¨‹
```typescript
// é˜¶æ®µ-1: çŸ¥è¯†æ£€ç´¢ï¼ˆåœ¨éœ€æ±‚åˆ†æå‰ï¼‰
async function knowledgeRetrieval(requirement: string) {
  // 1. æœç´¢ç›¸ä¼¼éœ€æ±‚ï¼ˆå‘é‡æœç´¢ï¼‰
  const similar = await vectorDB.search(requirement, {
    type: 'PRD',
    limit: 5
  });
  
  // 2. æ¨èå¯å¤ç”¨æ–¹æ¡ˆ
  const reusable = await vectorDB.search(requirement, {
    type: ['code', 'component'],
    quality: { $gt: 0.8 }
  });
  
  // 3. è¯†åˆ«æ½œåœ¨é£é™©
  const risks = await vectorDB.search(requirement, {
    type: 'incident'
  });
  
  return { similar, reusable, risks };
}
```

#### å®é™…æ•ˆæœ
```text
ç”¨æˆ·: "æ·»åŠ ç”Ÿè‚–é…å¯¹åŠŸèƒ½"

AIæ£€ç´¢ç»“æœ:
ğŸ“Š ç›¸ä¼¼æ¡ˆä¾‹ (3ä¸ª)
  1. å…«å­—åˆ†æåŠŸèƒ½ - 85%ç›¸ä¼¼
     â””â”€ å¯å¤ç”¨: æ—¥æœŸé€‰æ‹©å™¨ã€ç®—æ³•æ¡†æ¶
  2. ç´«å¾®æ–—æ•°åŠŸèƒ½ - 78%ç›¸ä¼¼
     â””â”€ å¯å¤ç”¨: ç»“æœå±•ç¤ºæ¨¡æ¿
  3. é£æ°´åˆ†æåŠŸèƒ½ - 72%ç›¸ä¼¼
  
ğŸ”§ å¯å¤ç”¨ç»„ä»¶ (5ä¸ª)
  - DatePicker (è´¨é‡: 92%)
  - AlgorithmValidator (è´¨é‡: 88%)
  - ResultDisplay (è´¨é‡: 90%)
  
âš ï¸ å†å²é£é™© (2ä¸ª)
  - å†œå†è½¬æ¢è¾¹ç•Œå¤„ç†
  - å¤§æ•°æ®é‡æ€§èƒ½é—®é¢˜
  
ğŸ’¡ å»ºè®®: åŸºäºã€Œå…«å­—åˆ†æã€æ¨¡æ¿å¯åŠ¨ï¼Œé¢„è®¡èŠ‚çœ 40% å¼€å‘æ—¶é—´
```

#### æ”¶ç›Š
- ğŸ“š çŸ¥è¯†å¤ç”¨ç‡: 20% â†’ 70%
- â±ï¸ å¯åŠ¨é€Ÿåº¦: æå‡ 3x
- ğŸ¯ æ–¹æ¡ˆä¸€è‡´æ€§: æå‡ 90%
- ğŸ› é‡å¤é—®é¢˜: å‡å°‘ 60%

---

### 4. ğŸ¯ AI ç½®ä¿¡åº¦ä¸è‡ªåŠ¨å®¡æ‰¹

#### æ ¸å¿ƒä»·å€¼
**é—®é¢˜**: 
- æ‰€æœ‰ä»»åŠ¡éƒ½éœ€è¦äººå·¥è¯„å®¡
- ç®€å•ä»»åŠ¡å ç”¨å¤§é‡æ—¶é—´
- äººå·¥æˆä¸ºç“¶é¢ˆ

**è§£å†³æ–¹æ¡ˆ**: åŸºäºç½®ä¿¡åº¦çš„æ™ºèƒ½å®¡æ‰¹ç³»ç»Ÿã€‚

#### ç½®ä¿¡åº¦è¯„åˆ†ç®—æ³•
```typescript
interface ConfidenceScore {
  overall: number;  // ç»¼åˆå¾—åˆ† 0-100
  factors: {
    complexity: number;    // å¤æ‚åº¦ (ç®€å•=é«˜åˆ†)
    similarity: number;    // ç›¸ä¼¼åº¦ (æœ‰å…ˆä¾‹=é«˜åˆ†)
    coverage: number;      // éœ€æ±‚è¦†ç›–åº¦
    consistency: number;   // æ¶æ„ä¸€è‡´æ€§
    riskLevel: number;     // é£é™©è¯„ä¼° (ä½é£é™©=é«˜åˆ†)
  };
}

// åŠ æƒè®¡ç®—
overall = 
  complexity * 0.20 +
  similarity * 0.25 +
  coverage * 0.20 +
  consistency * 0.20 +
  riskLevel * 0.15;
```

#### åˆ†çº§å®¡æ‰¹ç­–ç•¥
```yaml
ç½®ä¿¡åº¦ > 95%:
  çº§åˆ«: è‡ªåŠ¨æ‰¹å‡†
  æµç¨‹: 
    - è‡ªåŠ¨é€šè¿‡æ‰€æœ‰è¯„å®¡
    - ä»…å‘é€é€šçŸ¥
    - åŠ å…¥å¼‚æ­¥æŠ½æŸ¥é˜Ÿåˆ—
  é€‚ç”¨: ç®€å•é‡å¤ä»»åŠ¡
  
ç½®ä¿¡åº¦ 80-95%:
  çº§åˆ«: å¿«é€Ÿè¯„å®¡
  æµç¨‹:
    - ä»…æ£€æŸ¥å…³é”®ç‚¹
    - 15åˆ†é’Ÿå†…å®Œæˆ
  é€‚ç”¨: å¸¸è§„ä»»åŠ¡
  
ç½®ä¿¡åº¦ 60-80%:
  çº§åˆ«: æ ‡å‡†è¯„å®¡
  æµç¨‹:
    - å®Œæ•´è¯„å®¡æµç¨‹
    - 1-2å°æ—¶
  é€‚ç”¨: æ–°åŠŸèƒ½
  
ç½®ä¿¡åº¦ 40-60%:
  çº§åˆ«: è¯¦ç»†è¯„å®¡
  æµç¨‹:
    - å¤šAgentäº¤å‰éªŒè¯
    - é¢å¤–æµ‹è¯•
  é€‚ç”¨: å¤æ‚åŠŸèƒ½
  
ç½®ä¿¡åº¦ < 40%:
  çº§åˆ«: äººå·¥å¿…é¡»
  æµç¨‹:
    - å¿…é¡»äººå·¥ä»‹å…¥
    - æ·±åº¦è¯„å®¡
  é€‚ç”¨: é«˜é£é™©ä»»åŠ¡
```

#### å®é™…æ¡ˆä¾‹

**æ¡ˆä¾‹1: é«˜ç½®ä¿¡åº¦ - æ·»åŠ å·¥å…·å‡½æ•°**
```text
éœ€æ±‚: æ·»åŠ æ—¥æœŸæ ¼å¼åŒ–å‡½æ•°

ç½®ä¿¡åº¦è¯„åˆ†:
  å¤æ‚åº¦: 95% (éå¸¸ç®€å•)
  ç›¸ä¼¼åº¦: 98% (æœ‰100+å…ˆä¾‹)
  è¦†ç›–ç‡: 100% (éœ€æ±‚æ˜ç¡®)
  ä¸€è‡´æ€§: 95% (æ ‡å‡†æ¨¡å¼)
  é£é™©: 98% (é›¶é£é™©)
  ç»¼åˆ: 97%
  
å†³ç­–: ğŸš€ è‡ªåŠ¨æ‰¹å‡†
  âœ“ PRD è‡ªåŠ¨ç”Ÿæˆ
  âœ“ ä»£ç è‡ªåŠ¨å®ç°
  âœ“ æµ‹è¯•è‡ªåŠ¨é€šè¿‡
  âœ“ è‡ªåŠ¨åˆå¹¶åˆ°ä¸»åˆ†æ”¯
  
è€—æ—¶: 5åˆ†é’Ÿ (ä¼ ç»Ÿ: 2å°æ—¶)
```

**æ¡ˆä¾‹2: ä¸­ç½®ä¿¡åº¦ - æ–°é¡µé¢å¼€å‘**
```text
éœ€æ±‚: æ·»åŠ ç”¨æˆ·ä¸ªäººä¸­å¿ƒé¡µé¢

ç½®ä¿¡åº¦è¯„åˆ†:
  å¤æ‚åº¦: 80% (ä¸­ç­‰)
  ç›¸ä¼¼åº¦: 85% (æœ‰ç±»ä¼¼é¡µé¢)
  è¦†ç›–ç‡: 88% (éœ€æ±‚è¾ƒæ˜ç¡®)
  ä¸€è‡´æ€§: 90% (ç¬¦åˆè§„èŒƒ)
  é£é™©: 82% (é£é™©å¯æ§)
  ç»¼åˆ: 85%
  
å†³ç­–: âš¡ å¿«é€Ÿè¯„å®¡
  âœ“ PRD å¿«é€Ÿç¡®è®¤
  âœ“ æŠ€æœ¯æ–¹æ¡ˆæŠ½æŸ¥
  âœ“ ä»£ç å…³é”®ç‚¹å®¡æŸ¥
  
è€—æ—¶: 30åˆ†é’Ÿ (ä¼ ç»Ÿ: 2å°æ—¶)
```

#### ç›‘æ§ä»ªè¡¨æ¿
```text
ğŸ“Š ä»Šæ—¥ç»Ÿè®¡
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å®¡æ‰¹ç±»å‹       â”‚ æ•°é‡   â”‚ å æ¯”   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è‡ªåŠ¨æ‰¹å‡†       â”‚   12   â”‚  48%   â”‚
â”‚ å¿«é€Ÿè¯„å®¡       â”‚    8   â”‚  32%   â”‚
â”‚ æ ‡å‡†è¯„å®¡       â”‚    4   â”‚  16%   â”‚
â”‚ è¯¦ç»†è¯„å®¡       â”‚    1   â”‚   4%   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å¹³å‡ç½®ä¿¡åº¦: 82%
è‡ªåŠ¨æ‰¹å‡†å‡†ç¡®ç‡: 98%
äººå·¥æ—¶é—´èŠ‚çœ: 16å°æ—¶/å¤©
```

#### æ”¶ç›Š
- â±ï¸ äººå·¥è¯„å®¡æ—¶é—´: å‡å°‘ 80%
- âš¡ ç®€å•ä»»åŠ¡é€Ÿåº¦: æå‡ 20x
- ğŸ¯ äººåŠ›èšç„¦: é›†ä¸­åœ¨å¤æ‚ä»»åŠ¡
- ğŸ“ˆ ååé‡: æå‡ 3x

---

## ğŸš€ å®Œæ•´ä½¿ç”¨æµç¨‹ç¤ºä¾‹

### ä¼ ç»Ÿæµç¨‹ vs v4.0 å¢å¼ºæµç¨‹

```text
ä¼ ç»Ÿæµç¨‹ (4-6å°æ—¶):
1. åˆ†æéœ€æ±‚ (1h)
2. ç¼–å†™PRD (1h)
3. è®¾è®¡æ–¹æ¡ˆ (1-2h)
4. åˆ›å»ºproposal (0.5h)
5. ä»»åŠ¡åˆ†è§£ (0.5h)
6. æ­å»ºç¯å¢ƒ (0.5h)
7. ç­‰å¾…è¯„å®¡ (0.5h)

v4.0 æµç¨‹ (1-2å°æ—¶):
1. qiflow start "åŠŸèƒ½" (5min)
   â”œâ”€ è‡ªåŠ¨æ£€ç´¢çŸ¥è¯†åº“
   â”œâ”€ AIç”ŸæˆPRDå’Œæ–¹æ¡ˆ
   â”œâ”€ ç½®ä¿¡åº¦è¯„åˆ†
   â”œâ”€ æ™ºèƒ½å®¡æ‰¹å†³ç­–
   â”œâ”€ è‡ªåŠ¨ä»»åŠ¡åˆ†è§£
   â””â”€ åˆ›å»ºé¢„è§ˆç¯å¢ƒ
2. å¼€å§‹ç¼–ç  (ç›´æ¥è¿›å…¥)
```

### å®é™…æ¡ˆä¾‹ï¼šç”Ÿè‚–é…å¯¹åŠŸèƒ½

```bash
$ qiflow start "æ·»åŠ ç”Ÿè‚–é…å¯¹åŠŸèƒ½"

ğŸ” é˜¶æ®µ-1: çŸ¥è¯†åº“æ£€ç´¢
  âœ“ æ‰¾åˆ° 3 ä¸ªç›¸ä¼¼æ¡ˆä¾‹
  âœ“ å‘ç° 5 ä¸ªå¯å¤ç”¨ç»„ä»¶
  âœ“ è¯†åˆ« 2 ä¸ªå†å²é£é™©
  è€—æ—¶: 2ç§’

ğŸ“Š é˜¶æ®µ0: ç½®ä¿¡åº¦è¯„ä¼°  
  âœ“ å¤æ‚åº¦: 85%
  âœ“ ç›¸ä¼¼åº¦: 92%
  âœ“ ç»¼åˆ: 88%
  å†³ç­–: æ ‡å‡†è¯„å®¡æµç¨‹
  è€—æ—¶: 1ç§’

ğŸ“ é˜¶æ®µ1: PRDç”Ÿæˆ
  âœ“ åŸºäºã€Œå…«å­—åˆ†æã€æ¨¡æ¿
  âœ“ è‡ªåŠ¨å¡«å……å¸¸è§å­—æ®µ
  âœ“ åŒ…å«é£é™©æç¤º
  å¿«é€Ÿè¯„å®¡: é€šè¿‡ âœ“
  è€—æ—¶: 3åˆ†é’Ÿ

ğŸ—ï¸ é˜¶æ®µ2: æŠ€æœ¯æ–¹æ¡ˆ
  âœ“ å¤ç”¨ç°æœ‰æ¶æ„æ¨¡å¼
  âœ“ æ¨èæŠ€æœ¯æ ˆ
  âœ“ æ ‡æ³¨å¯å¤ç”¨ç»„ä»¶
  å¿«é€Ÿè¯„å®¡: é€šè¿‡ âœ“
  è€—æ—¶: 5åˆ†é’Ÿ

ğŸ“„ é˜¶æ®µ3: OpenSpec Proposal
  âœ“ proposal.md
  âœ“ tasks.md (15ä¸ªä»»åŠ¡)
  âœ“ design.md
  è€—æ—¶: 2åˆ†é’Ÿ

ğŸŒ é˜¶æ®µ3.5: é¢„è§ˆç¯å¢ƒ
  âœ“ æ•°æ®åº“å®ä¾‹åˆ›å»º
  âœ“ åº”ç”¨éƒ¨ç½²
  âœ“ URL: https://preview-zodiac.qiflowai.dev
  è€—æ—¶: 3åˆ†é’Ÿ

ğŸ“‹ é˜¶æ®µ4: ä»»åŠ¡åˆ†è§£
  âœ“ 15ä¸ªå­ä»»åŠ¡
  âœ“ ä¾èµ–å…³ç³»é…ç½®
  âœ“ å·¥æ—¶ä¼°ç®—: 40h
  è€—æ—¶: 2åˆ†é’Ÿ

âœ¨ å‡†å¤‡å®Œæˆï¼æ€»è€—æ—¶: 15åˆ†é’Ÿ

ä¸‹ä¸€æ­¥:
  qiflow code next     # å¼€å§‹ç¼–ç 
  qiflow preview open  # æŸ¥çœ‹é¢„è§ˆç¯å¢ƒ
  qiflow status        # æŸ¥çœ‹è¿›åº¦
```

---

## ğŸ“Š ç»¼åˆæ”¶ç›Šåˆ†æ

### æ•ˆç‡æå‡
```yaml
å¼€å‘å¯åŠ¨æ—¶é—´:
  ä¼ ç»Ÿ: 4-6å°æ—¶
  v4.0: 15-30åˆ†é’Ÿ
  æå‡: 10-20x

åé¦ˆå‘¨æœŸ:
  ä¼ ç»Ÿ: 1-2å¤©
  v4.0: 2-4å°æ—¶  
  æå‡: 10x

çŸ¥è¯†å¤ç”¨ç‡:
  ä¼ ç»Ÿ: 20%
  v4.0: 70%
  æå‡: 3.5x

è‡ªåŠ¨æ‰¹å‡†ç‡:
  ä¼ ç»Ÿ: 0%
  v4.0: 45%
  èŠ‚çœäººåŠ›: 80%
```

### è´¨é‡æ”¹è¿›
```yaml
Bugç‡:
  ä¼ ç»Ÿ: 10ä¸ª/æœˆ
  v4.0: 5ä¸ª/æœˆ
  æ”¹å–„: 50%

æ¶æ„ä¸€è‡´æ€§:
  ä¼ ç»Ÿ: 70%
  v4.0: 95%
  æ”¹å–„: 35%

æµ‹è¯•è¦†ç›–ç‡:
  ä¼ ç»Ÿ: 70%
  v4.0: 90%
  æ”¹å–„: 29%
```

### å¼€å‘ä½“éªŒ
```yaml
è®¤çŸ¥è´Ÿè·:
  ä¼ ç»Ÿ: é«˜ï¼ˆéœ€è®°ä½å¤šä¸ªå·¥å…·ï¼‰
  v4.0: ä½ï¼ˆç»Ÿä¸€CLIï¼‰
  æ”¹å–„: 70%

ä¸Šæ‰‹æ—¶é—´:
  ä¼ ç»Ÿ: 1-2å‘¨
  v4.0: 2-3å¤©
  æ”¹å–„: 80%

æ»¡æ„åº¦:
  ä¼ ç»Ÿ: 3.5/5
  v4.0: 4.5/5
  æ”¹å–„: 29%
```

---

## ğŸ¯ å®æ–½å»ºè®®

### é˜¶æ®µä¸€ï¼šå¿«é€Ÿè§æ•ˆ (Week 1-2)
1. **å®‰è£… QiFlow CLI**
   ```bash
   npm install -g @mksaas/qiflow-cli
   qiflow init
   ```

2. **é…ç½® Vercel é¢„è§ˆç¯å¢ƒ**ï¼ˆå‰ç«¯ï¼‰
   - è¿æ¥ GitHub
   - è‡ªåŠ¨éƒ¨ç½² PR

3. **å›¢é˜ŸåŸ¹è®­**
   - ä½¿ç”¨æ¼”ç¤º
   - æœ€ä½³å®è·µ

### é˜¶æ®µäºŒï¼šæ·±åº¦é›†æˆ (Week 3-6)
1. **æ­å»ºå‘é‡æ•°æ®åº“**
   - éƒ¨ç½² Qdrant
   - ç´¢å¼•å†å²æ–‡æ¡£

2. **é…ç½® K8s é¢„è§ˆç¯å¢ƒ**ï¼ˆåç«¯ï¼‰
   - åˆ›å»ºå‘½åç©ºé—´æ¨¡æ¿
   - è‡ªåŠ¨åŒ–æµç¨‹

3. **çŸ¥è¯†åº“å»ºè®¾**
   - ç´¢å¼•æœ€è¿‘3ä¸ªæœˆé¡¹ç›®
   - éªŒè¯æœç´¢è´¨é‡

### é˜¶æ®µä¸‰ï¼šæ™ºèƒ½åŒ–å‡çº§ (Week 7-8)
1. **ç½®ä¿¡åº¦ç³»ç»Ÿ**
   - è®­ç»ƒè¯„åˆ†æ¨¡å‹
   - è®¾ç½®é˜ˆå€¼

2. **è‡ªåŠ¨å®¡æ‰¹**
   - ä»ä½é£é™©ä»»åŠ¡è¯•ç‚¹
   - é€æ­¥æ‰©å¤§èŒƒå›´

3. **ç›‘æ§ä¼˜åŒ–**
   - éƒ¨ç½²ä»ªè¡¨æ¿
   - æŒç»­è°ƒä¼˜

---

## ğŸ“š ç›¸å…³èµ„æº

- **è¯¦ç»†è®¾è®¡æ–‡æ¡£**: [WORKFLOW_ENHANCEMENTS.md](./WORKFLOW_ENHANCEMENTS.md)
- **å®æ–½è·¯çº¿å›¾**: [ENHANCEMENT_ROADMAP.md](./ENHANCEMENT_ROADMAP.md)
- **QiFlow CLI æ–‡æ¡£**: [å¾…åˆ›å»º]
- **çŸ¥è¯†åº“ API**: [å¾…åˆ›å»º]
- **ç½®ä¿¡åº¦ç³»ç»Ÿ**: [å¾…åˆ›å»º]

---

### ç‰ˆæœ¬æ›´æ–°è®°å½•

```yaml
v4.0.0 (2025-01-13):
  - æ–°å¢ QiFlow CLI ç»Ÿä¸€å…¥å£
  - å®ç°è‡ªåŠ¨åŒ–é¢„è§ˆç¯å¢ƒ
  - é›†æˆçŸ¥è¯†åº“ä¸å‘é‡ç´¢å¼•
  - æ·»åŠ  AI ç½®ä¿¡åº¦è¯„åˆ†ç³»ç»Ÿ
  - å®ç°åˆ†çº§è‡ªåŠ¨å®¡æ‰¹æµç¨‹
  - ä¼˜åŒ–çŸ¥è¯†å¤ç”¨æœºåˆ¶
  - å¢å¼ºå¼€å‘ä½“éªŒ

v3.0.0 (2025-01-13):
  - æ·»åŠ ä¾èµ–å…³ç³»ç®¡ç†çŸ©é˜µ
  - å¢å¼ºçµæ´»æ€§é…ç½®
  - å®ç°ç»†ç²’åº¦ä»»åŠ¡æ‹†åˆ†
  - åŠ å…¥åé¦ˆå¾ªç¯ç³»ç»Ÿ
  - å®Œå–„è‡ªåŠ¨å›æ»šç­–ç•¥
  - ä¼˜åŒ– Agent é…ç½®
  - å¢åŠ éƒ¨ç½²æ“ä½œæ‰‹å†Œ

v2.0.0 (2025-01-13):
  - é›†æˆé¢†åŸŸä¸“å®¶ Agent
  - å®Œå–„å·¥ä½œæµç¨‹
  - æ·»åŠ å®ä¾‹æ¼”ç¤º

v1.0.0 (2025-01-12):
  - åˆå§‹ç‰ˆæœ¬
```

---

## ä½¿ç”¨æ­¤å·¥ä½œæµ

1. **ä¿å­˜æ­¤æ–‡ä»¶**åˆ°é¡¹ç›®æ ¹ç›®å½•
2. **é…ç½®å·¥å…·**ï¼š
   ```bash
   openspec init
   task-master init
   ```
3. **å¼€å§‹ä½¿ç”¨**ï¼š
   - ä½¿ç”¨æ–œæ å‘½ä»¤åˆ›å»º proposal
   - é€šè¿‡ TaskMaster ç®¡ç†ä»»åŠ¡
   - è°ƒç”¨åˆé€‚çš„ Agent æ‰§è¡Œ
   - éªŒè¯å¹¶å½’æ¡£å˜æ›´

è¿™ä¸ªå·¥ä½œæµå°†å¸®åŠ©æ‚¨ç³»ç»ŸåŒ–åœ°è¿›è¡Œå¼€å‘ï¼Œç¡®ä¿æ¯ä¸ªåŠŸèƒ½éƒ½ç»è¿‡è§„èŒƒå®šä¹‰ã€ä»»åŠ¡åˆ†è§£ã€ä¸“ä¸šå®æ–½å’Œä¸¥æ ¼éªŒè¯ã€‚