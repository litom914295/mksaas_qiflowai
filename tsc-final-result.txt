src/components/reports/report-export-share.tsx(83,47): error TS2554: Expected 0 arguments, but got 1.
src/components/reports/report-export-share.tsx(126,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'ReportData'.
src/components/reports/reports/report-export-share.tsx(83,47): error TS2554: Expected 0 arguments, but got 1.
src/components/reports/reports/report-export-share.tsx(126,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'ReportData'.
src/components/settings/security/delete-account-card.tsx(52,7): error TS2554: Expected 0-1 arguments, but got 2.
src/components/settings/security/update-password-card.tsx(84,9): error TS2353: Object literal may only specify known properties, and 'revokeOtherSessions' does not exist in type '{ newPassword: string; currentPassword: string; }'.
src/hooks/use-collect-form-data.ts(136,7): error TS2353: Object literal may only specify known properties, and 'options' does not exist in type 'UserInput'.
src/lib/admin/user-import.ts(414,5): error TS18048: 'user.roles' is possibly 'undefined'.
src/lib/analytics/route-performance.ts(363,12): error TS2352: Conversion of type '{ getMetrics: () => never[]; getNavigationTimings: () => never[]; getAverageRouteDuration: () => number; getLocaleStats: () => { count: number; avgDuration: number; minDuration: number; maxDuration: number; }; getSlowRoutes: () => never[]; clearMetrics: () => void; exportMetrics: () => string; }' to type 'RoutePerformanceTracker' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ getMetrics: () => never[]; getNavigationTimings: () => never[]; getAverageRouteDuration: () => number; getLocaleStats: () => { count: number; avgDuration: number; minDuration: number; maxDuration: number; }; getSlowRoutes: () => never[]; clearMetrics: () => void; exportMetrics: () => string; }' is missing the following properties from type 'RoutePerformanceTracker': metrics, navigationTimings, previousRoute, navigationStartTime, and 12 more.
src/lib/auth-fixed.ts(33,5): error TS2353: Object literal may only specify known properties, and 'usePlainUserTable' does not exist in type 'DrizzleAdapterConfig'.
src/lib/auth-fixed.ts(164,11): error TS18046: 'error' is of type 'unknown'.
src/lib/auth/jwt.ts(22,14): error TS2769: No overload matches this call.
  Overload 1 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: null, options?: (SignOptions & { algorithm: "none"; }) | undefined): string', gave the following error.
    Argument of type 'string' is not assignable to parameter of type 'null'.
  Overload 2 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: Buffer<ArrayBufferLike> | Secret | PrivateKeyInput | JsonWebKeyInput, options?: SignOptions | undefined): string', gave the following error.
    Type 'string' is not assignable to type 'number | StringValue | undefined'.
  Overload 3 of 5, '(payload: string | object | Buffer<ArrayBufferLike>, secretOrPrivateKey: Buffer<ArrayBufferLike> | Secret | PrivateKeyInput | JsonWebKeyInput, callback: SignCallback): void', gave the following error.
    Object literal may only specify known properties, and 'expiresIn' does not exist in type 'SignCallback'.
src/lib/auth/session.ts(6,18): error TS2430: Interface 'ExtendedSession' incorrectly extends interface 'Session'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; name?: string | null | undefined; image?: string | null | undefined; role: string; permissions: string[]; }' is not assignable to type 'User & { role?: "user" | "admin" | undefined; permissions?: string[] | undefined; }'.
      Type '{ id: string; email: string; name?: string | null | undefined; image?: string | null | undefined; role: string; permissions: string[]; }' is not assignable to type 'User'.
        Types of property 'role' are incompatible.
          Type 'string' is not assignable to type '"user" | "admin" | undefined'.
src/lib/bazi-pro/advanced/dayun/start-age.ts(6,30): error TS2307: Cannot find module '../../../core/calendar/lunar-adapter' or its corresponding type declarations.
src/lib/bazi-pro/advanced/dayun/start-age.ts(7,54): error TS2307: Cannot find module '../../../types' or its corresponding type declarations.
src/lib/bazi-pro/core/analyzer/ten-gods-relations.ts(7,15): error TS2724: '"../calculator/ten-gods"' has no exported member named 'TenGods'. Did you mean 'TenGod'?
src/lib/bazi-pro/core/calculator/four-pillars.ts(329,42): error TS2304: Cannot find name 'ProfessionalFourPillarsCalculator'.
src/lib/bazi-pro/core/calendar/lunar-adapter.ts(7,53): error TS7016: Could not find a declaration file for module 'lunar-javascript'. 'D:/test/QiFlow AI_qiflowai/node_modules/lunar-javascript/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/lunar-javascript` if it exists or add a new declaration (.d.ts) file containing `declare module 'lunar-javascript';`
src/lib/bazi-pro/core/calendar/solar-terms.ts(6,30): error TS7016: Could not find a declaration file for module 'lunar-javascript'. 'D:/test/QiFlow AI_qiflowai/node_modules/lunar-javascript/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/lunar-javascript` if it exists or add a new declaration (.d.ts) file containing `declare module 'lunar-javascript';`
src/lib/bazi-pro/core/patterns/pattern-detector.ts(11,3): error TS2395: Individual declarations in merged declaration 'PatternType' must be all exported or all local.
src/lib/bazi-pro/core/patterns/pattern-detector.ts(11,3): error TS2440: Import declaration conflicts with local declaration of 'PatternType'.
src/lib/bazi-pro/core/patterns/pattern-detector.ts(13,10): error TS2724: '"../analyzer/ten-gods-relations"' has no exported member named 'TenGodsRelations'. Did you mean 'TenGodRelation'?
src/lib/bazi-pro/core/patterns/pattern-detector.ts(27,31): error TS2749: 'WuxingStrengthCalculator' refers to a value, but is being used as a type here. Did you mean 'typeof WuxingStrengthCalculator'?
src/lib/bazi-pro/core/patterns/pattern-detector.ts(641,13): error TS2395: Individual declarations in merged declaration 'PatternType' must be all exported or all local.
src/lib/bazi-pro/deploy.config.ts(236,10): error TS2678: Type '"staging"' is not comparable to type '"development" | "production" | "test"'.
src/lib/bazi-pro/interpretation/intelligent-interpreter.ts(7,10): error TS2724: '"../core/analyzer/ten-gods-relations"' has no exported member named 'TenGodsRelations'. Did you mean 'TenGodRelation'?
src/lib/bazi-pro/utils/bazi-cache-adapter.ts(11,3): error TS2724: '"../types"' has no exported member named 'ShenshaResult'. Did you mean 'ShenShaResult'?
src/lib/bazi-pro/utils/bazi-cache-adapter.ts(12,3): error TS2724: '"../types"' has no exported member named 'WuXingAnalysis'. Did you mean 'WuxingAnalysis'?
src/lib/bazi-pro/utils/bazi-cache-adapter.ts(13,3): error TS2724: '"../types"' has no exported member named 'YongShenResult'. Did you mean 'YongshenResult'?
src/lib/bazi/bazi/quick-test.ts(7,7): error TS2451: Cannot redeclare block-scoped variable 'date1990510'.
src/lib/bazi/bazi/quick-test.ts(14,7): error TS2451: Cannot redeclare block-scoped variable 'date2020101'.
src/lib/bazi/quick-test.ts(7,7): error TS2451: Cannot redeclare block-scoped variable 'date1990510'.
src/lib/bazi/quick-test.ts(14,7): error TS2451: Cannot redeclare block-scoped variable 'date2020101'.
src/lib/monitoring/db.ts(35,25): error TS2694: Namespace '"D:/test/QiFlow AI_qiflowai/node_modules/.prisma/client/default".Prisma' has no exported member 'ErrorLogWhereInput'.
src/lib/monitoring/db.ts(178,25): error TS2694: Namespace '"D:/test/QiFlow AI_qiflowai/node_modules/.prisma/client/default".Prisma' has no exported member 'SystemLogWhereInput'.
src/lib/monitoring/db.ts(253,25): error TS2694: Namespace '"D:/test/QiFlow AI_qiflowai/node_modules/.prisma/client/default".Prisma' has no exported member 'PerformanceMetricWhereInput'.
src/lib/monitoring/db.ts(389,25): error TS2694: Namespace '"D:/test/QiFlow AI_qiflowai/node_modules/.prisma/client/default".Prisma' has no exported member 'AuditLogWhereInput'.
src/lib/monitoring/sentry.ts(33,5): error TS2353: Object literal may only specify known properties, and 'enableTracing' does not exist in type 'CoreOptions<BaseTransportOptions> | BrowserOptions | NodeOptions | VercelEdgeOptions'.
src/lib/performance/optimization.ts(80,25): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/lib/performance/optimization.ts(530,5): error TS2322: Type '(req: NextRequest, body: any) => Promise<NextResponse<unknown>>' is not assignable to type '(req: NextRequest, body: any) => Promise<T>'.
  Type 'Promise<NextResponse<unknown>>' is not assignable to type 'Promise<T>'.
    Type 'NextResponse<unknown>' is not assignable to type 'T'.
      'T' could be instantiated with an arbitrary type which could be unrelated to 'NextResponse<unknown>'.
src/lib/performance/optimization.ts(538,5): error TS2322: Type '(req: NextRequest, body: any) => Promise<NextResponse<unknown>>' is not assignable to type '(req: NextRequest, body: any) => Promise<T>'.
  Type 'Promise<NextResponse<unknown>>' is not assignable to type 'Promise<T>'.
    Type 'NextResponse<unknown>' is not assignable to type 'T'.
      'T' could be instantiated with an arbitrary type which could be unrelated to 'NextResponse<unknown>'.
src/lib/qiflow/ai/index.ts(8,10): error TS2724: '"./input-parser"' has no exported member named 'parseUserInput'. Did you mean 'ParsedInput'?
src/lib/qiflow/bazi/quick-test.ts(7,7): error TS2451: Cannot redeclare block-scoped variable 'date1990510'.
src/lib/qiflow/bazi/quick-test.ts(14,7): error TS2451: Cannot redeclare block-scoped variable 'date2020101'.
src/lib/qiflow/cache.ts(19,26): error TS2554: Expected 1 arguments, but got 2.
src/lib/qiflow/fengshui/engine.ts(533,18): error TS2352: Conversion of type '{ requestId: string; timestamp: string; version: string; basicInfo: { address: any; facing: number; mountain: string; buildYear: number; floorPlan: string | undefined; }; period: number; mountain: string; ... 5 more ...; analysis: { ...; }; }' to type '{ flyingStars: { period: number; facing: string; sitting: string; palaces: { position: "center" | "southeast" | "south" | "southwest" | "east" | "west" | "northeast" | "north" | "northwest"; ... 4 more ...; yearStar?: { ...; } | undefined; }[]; centralPalace: { ...; }; }; ... 13 more ...; interpretations?: { ...; } ...' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ requestId: string; timestamp: string; version: string; basicInfo: { address: any; facing: number; mountain: string; buildYear: number; floorPlan: string | undefined; }; period: number; mountain: string; ... 5 more ...; analysis: { ...; }; }' is missing the following properties from type '{ flyingStars: { period: number; facing: string; sitting: string; palaces: { position: "center" | "southeast" | "south" | "southwest" | "east" | "west" | "northeast" | "north" | "northwest"; ... 4 more ...; yearStar?: { ...; } | undefined; }[]; centralPalace: { ...; }; }; ... 13 more ...; interpretations?: { ...; } ...': directions, algorithmVersion, hash, confidence
src/lib/qiflow/fengshui/smart-recommendations.ts(95,20): error TS7053: Element implicitly has an 'any' type because expression of type 'any' can't be used to index type 'Record<PalaceIndex, number>'.
src/lib/qiflow/unified/adapters.ts(331,5): error TS2322: Type '"σìó"' is not assignable to type 'Mountain'.
src/lib/qiflow/unified/adapters/frontend-adapter.ts(259,3): error TS2322: Type '{ basicAnalysis: { period: Yun; facingDirection: Mountain; plates: { period: any[]; liunian: any[]; }; evaluation: any; geju: any; wenchangwei: any[]; caiwei: any[]; }; enhancedPlate: any[]; ... 8 more ...; metadata: { ...; }; }' is not assignable to type 'ComprehensiveAnalysisResult'.
  Types of property 'basicAnalysis' are incompatible.
    Property 'meta' is missing in type '{ period: Yun; facingDirection: Mountain; plates: { period: any[]; liunian: any[]; }; evaluation: any; geju: any; wenchangwei: any[]; caiwei: any[]; }' but required in type 'GenerateFlyingStarOutput'.
src/lib/qiflow/xuankong/adapters/v6-adapter.ts(378,14): error TS2693: 'Record' only refers to a type, but is being used as a value here.
src/lib/qiflow/xuankong/adapters/v6-adapter.ts(378,14): error TS2364: The left-hand side of an assignment expression must be a variable or a property access.
src/lib/qiflow/xuankong/adapters/v6-adapter.ts(385,10): error TS2304: Cannot find name 'σàïσê╢σà│τ│╗'.
src/lib/qiflow/xuankong/comprehensive-engine.ts(342,7): error TS2554: Expected 2-3 arguments, but got 5.
src/lib/qiflow/xuankong/comprehensive-engine.ts(363,60): error TS2554: Expected 2-3 arguments, but got 5.
src/lib/qiflow/xuankong/converters.ts(144,5): error TS2322: Type '{ degrees: number; direction: string; } | { degrees: number; direction: string; palace: "τª╗"; }' is not assignable to type '{ degrees: number; direction: string; palace: PalaceName; }'.
  Property 'palace' is missing in type '{ degrees: number; direction: string; }' but required in type '{ degrees: number; direction: string; palace: PalaceName; }'.
src/lib/qiflow/xuankong/key-positions.ts(133,27): error TS2322: Type '"excellent"' is not assignable to type 'FortuneRating'.
src/lib/qiflow/xuankong/key-positions.ts(134,32): error TS2322: Type '"good"' is not assignable to type 'FortuneRating'.
src/lib/qiflow/xuankong/key-positions.ts(135,32): error TS2322: Type '"fair"' is not assignable to type 'FortuneRating'.
src/lib/qiflow/xuankong/key-positions.ts(136,32): error TS2322: Type '"poor"' is not assignable to type 'FortuneRating'.
src/lib/qiflow/xuankong/key-positions.ts(137,8): error TS2322: Type '"bad"' is not assignable to type 'FortuneRating'.
src/lib/qiflow/xuankong/key-positions.ts(185,37): error TS2345: Argument of type 'string' is not assignable to parameter of type '{ type: string; description: string; isFavorable: boolean; }'.
src/lib/qiflow/xuankong/key-positions.ts(186,37): error TS2345: Argument of type 'string' is not assignable to parameter of type '{ type: string; description: string; isFavorable: boolean; }'.
src/lib/qiflow/xuankong/plate-generator.ts(117,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/lib/qiflow/xuankong/plate-generator.ts(118,7): error TS2322: Type 'string | undefined' is not assignable to type 'string'.
  Type 'undefined' is not assignable to type 'string'.
src/lib/qiflow/xuankong/remedy-engine.ts(137,11): error TS2322: Type '"symbol" | "color" | "placement" | "element" | "crystal" | "plant"' is not assignable to type '"color" | "layout" | "placement" | "element" | "timing"'.
  Type '"symbol"' is not assignable to type '"color" | "layout" | "placement" | "element" | "timing"'.
src/lib/space-mapping/space-mapping/alignment-engine.ts(309,27): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/alignment-engine.ts(360,55): error TS2345: Argument of type '(Point | undefined)[]' is not assignable to parameter of type 'Point[]'.
  Type 'Point | undefined' is not assignable to type 'Point'.
    Type 'undefined' is not assignable to type 'Point'.
src/lib/space-mapping/space-mapping/room-mapper.ts(75,20): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(78,35): error TS2345: Argument of type 'Point | undefined' is not assignable to parameter of type 'Point'.
  Type 'undefined' is not assignable to type 'Point'.
src/lib/space-mapping/space-mapping/room-mapper.ts(156,11): error TS2322: Type 'Point[] | undefined' is not assignable to type 'Point[]'.
  Type 'undefined' is not assignable to type 'Point[]'.
src/lib/space-mapping/space-mapping/room-mapper.ts(157,11): error TS2322: Type 'Point | undefined' is not assignable to type 'Point'.
  Type 'undefined' is not assignable to type 'Point'.
src/lib/space-mapping/space-mapping/room-mapper.ts(158,22): error TS2339: Property 'area' does not exist on type 'Room'.
src/lib/space-mapping/space-mapping/room-mapper.ts(201,8): error TS18048: 'room.center' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(202,10): error TS18048: 'room.center' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(253,9): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(257,16): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(258,16): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(272,9): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(276,15): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(280,15): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(280,39): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(281,15): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(281,39): error TS18048: 'room.coordinates' is possibly 'undefined'.
src/lib/space-mapping/space-mapping/room-mapper.ts(348,33): error TS2339: Property 'confidence' does not exist on type 'Room'.
src/tests/integration/xuankong-api.test.ts(194,17): error TS2304: Cannot find name 'thresholds'.
src/tests/integration/xuankong-api.test.ts(238,26): error TS2339: Property 'materials' does not exist on type 'RemedyPlan'.
