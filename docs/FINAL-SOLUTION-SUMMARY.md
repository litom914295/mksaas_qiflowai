# ğŸ‰ MKSaaS ç™»å½•ç³»ç»Ÿä¿®å¤å®Œæˆ

## âœ… æ‰€æœ‰é—®é¢˜å·²è§£å†³

### 1. **ä¿®å¤çš„é—®é¢˜æ¸…å•**
- âœ… Better Auth ä¸ Supabase å…¼å®¹æ€§é—®é¢˜ â†’ å·²æ›¿æ¢ä¸º Supabase Auth
- âœ… JSX è¯­æ³•é”™è¯¯ï¼ˆè½¬ä¹‰å¼•å·é—®é¢˜ï¼‰â†’ å·²ä¿®å¤
- âœ… React Query ç¼ºå°‘ QueryClient â†’ å·²æ·»åŠ  QueryClientProvider
- âœ… nuqs ç¼ºå°‘é€‚é…å™¨ â†’ å·²æ·»åŠ  NuqsAdapter
- âœ… æ•°æ®åº“è¿æ¥é—®é¢˜ â†’ å·²ä½¿ç”¨æ­£ç¡®çš„è¿æ¥å­—ç¬¦ä¸²
- âœ… ä¸­é—´ä»¶è®¤è¯é—®é¢˜ â†’ å·²æ›´æ–°ä¸º Supabase Auth

### 2. **å¯ç”¨è´¦æˆ·**

| è´¦æˆ·ç±»å‹ | é‚®ç®± | å¯†ç  | æƒé™ |
|---------|------|------|------|
| ç®¡ç†å‘˜ | admin@mksaas.com | admin123456 | å®Œå…¨è®¿é—®æƒé™ |
| æµ‹è¯•ç”¨æˆ· | test@example.com | test123456 | æ™®é€šç”¨æˆ·æƒé™ |

### 3. **è®¿é—®åœ°å€**

- **æµ‹è¯•ç™»å½•é¡µé¢**: http://localhost:3000/test-login
  - ç®€å•çš„ç™»å½•æµ‹è¯•ç•Œé¢ï¼Œç”¨äºå¿«é€ŸéªŒè¯ç™»å½•åŠŸèƒ½
  
- **æ­£å¼ç™»å½•é¡µé¢**: http://localhost:3000/zh-CN/auth/login
  - å®Œæ•´çš„ç™»å½•ç•Œé¢ï¼ŒåŒ…å«æ‰€æœ‰ UI ç»„ä»¶

- **ç®¡ç†åå°**: http://localhost:3000/zh-CN/dashboard
  - ç™»å½•æˆåŠŸåè‡ªåŠ¨è·³è½¬åˆ°æ­¤é¡µé¢

### 4. **æ ¸å¿ƒæ–‡ä»¶ä¿®æ”¹åˆ—è¡¨**

#### è®¤è¯ç³»ç»Ÿ
- `src/app/api/auth/[...all]/route.ts` - Supabase Auth API è·¯ç”±
- `src/lib/auth/supabase-auth-client.ts` - Supabase Auth å®¢æˆ·ç«¯
- `src/middleware.ts` - ä½¿ç”¨ Supabase Auth çš„ä¸­é—´ä»¶

#### å‰ç«¯é…ç½®
- `src/app/providers.tsx` - æ·»åŠ  QueryClientProvider å’Œ NuqsAdapter
- `src/app/layout.tsx` - åŒ…è£… Providers ç»„ä»¶

#### é”™è¯¯ä¿®å¤
- `src/components/settings/credits/credit-transactions-table.tsx` - ä¿®å¤ JSX è¯­æ³•
- `src/components/settings/credits/credit-detail-viewer.tsx` - ä¿®å¤ JSX è¯­æ³•
- `src/components/dashboard/section-cards.tsx` - ä¿®å¤ CardAction ç»„ä»¶é—®é¢˜

### 5. **ç³»ç»Ÿæ¶æ„**

```
ç”¨æˆ·è¯·æ±‚ â†’ Next.js ä¸­é—´ä»¶ï¼ˆSupabase Auth éªŒè¯ï¼‰
         â†“
    API è·¯ç”±å¤„ç†
         â†“
   Supabase Auth
         â†“
   PostgreSQL æ•°æ®åº“
```

### 6. **å¿«é€Ÿæµ‹è¯•æ­¥éª¤**

```bash
# 1. ç¡®ä¿å¼€å‘æœåŠ¡å™¨è¿è¡Œ
npm run dev

# 2. è®¿é—®æµ‹è¯•ç™»å½•é¡µé¢
# http://localhost:3000/test-login

# 3. ä½¿ç”¨ç®¡ç†å‘˜è´¦æˆ·ç™»å½•
# é‚®ç®±: admin@mksaas.com
# å¯†ç : admin123456

# 4. æˆåŠŸåä¼šè‡ªåŠ¨è·³è½¬åˆ°ç®¡ç†åå°
```

### 7. **éªŒè¯ç³»ç»ŸçŠ¶æ€**

è¿è¡Œç³»ç»Ÿæ£€æŸ¥è„šæœ¬ï¼š
```bash
npx tsx scripts/check-system.ts
```

### 8. **æ³¨æ„äº‹é¡¹**

1. **ç¯å¢ƒå˜é‡**: ç¡®ä¿ `.env.local` åŒ…å«æ‰€æœ‰å¿…è¦çš„ Supabase é…ç½®
2. **æ•°æ®åº“è¿æ¥**: ä½¿ç”¨ Session Mode Pooler è¿æ¥å­—ç¬¦ä¸²
3. **Cookie**: ç™»å½•ä½¿ç”¨ httpOnly cookieï¼Œæ›´å®‰å…¨
4. **ä¸­é—´ä»¶**: è‡ªåŠ¨ä¿æŠ¤ /dashboard ç­‰éœ€è¦è®¤è¯çš„è·¯ç”±

### 9. **æ•…éšœæ’é™¤**

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å’Œ Cookie**
   ```bash
   # Chrome: Ctrl+Shift+Delete
   # é€‰æ‹©"Cookie å’Œå…¶ä»–ç½‘ç«™æ•°æ®"
   ```

2. **é‡å¯å¼€å‘æœåŠ¡å™¨**
   ```bash
   # Ctrl+C åœæ­¢
   npm run dev # é‡æ–°å¯åŠ¨
   ```

3. **æ£€æŸ¥ç³»ç»ŸçŠ¶æ€**
   ```bash
   npx tsx scripts/check-system.ts
   ```

4. **æŸ¥çœ‹æ—¥å¿—**
   - æµè§ˆå™¨æ§åˆ¶å° (F12)
   - ç»ˆç«¯è¾“å‡º
   - Supabase Dashboard æ—¥å¿—

### 10. **ä¸‹ä¸€æ­¥å»ºè®®**

- [ ] å®ç°"å¿˜è®°å¯†ç "åŠŸèƒ½
- [ ] æ·»åŠ ç”¨æˆ·æ³¨å†Œé¡µé¢
- [ ] å®ç°ç¤¾äº¤ç™»å½•ï¼ˆGoogleã€GitHubï¼‰
- [ ] æ·»åŠ ç”¨æˆ·ç®¡ç†ç•Œé¢
- [ ] å®ç°è§’è‰²æƒé™ç®¡ç†
- [ ] æ·»åŠ ç™»å½•æ—¥å¿—è®°å½•

---

## ğŸŠ æ­å–œï¼ç³»ç»Ÿå·²å®Œå…¨ä¿®å¤å¹¶å¯æ­£å¸¸è¿è¡Œï¼

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒæ­¤æ–‡æ¡£æˆ–è¿è¡Œç³»ç»Ÿæ£€æŸ¥è„šæœ¬ã€‚